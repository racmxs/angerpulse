{"version":3,"file":"js/123.21095af9.js","mappings":"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","sources":["webpack://angerpulse/./src/components/AngerDashboard.vue","webpack://angerpulse/./src/components/AngerDashboard.vue?1aa7"],"sourcesContent":["<template>\r\n  <div>\r\n    <label class=\"b-24-black\" v-html=\"t('activity.title')\"></label>\r\n    <br>\r\n  </div>\r\n  <div class=\"text-start px-4 pt-3\">\r\n    <p class=\"b-16-gray\" v-html=\"t('activity.temporalidad')\"></p>\r\n    <select id=\"FilterTempo\" class=\"form-control w-100 select-ap\" v-model=\"selectedOption\"\r\n      @change=\"GetDatos(selectedOption)\" v-html=\"t('activity.ultsem')\">\r\n    </select>\r\n    <div class=\"numeralia d-flex py-3\">\r\n      <div class=\"num-circle\">\r\n        <div class=\"circle-black b-48-gray p-3\">\r\n          <label class=\"m-auto\">{{ countAudios }}</label>\r\n        </div>\r\n      </div>\r\n      <div class=\"data-rec b-20-gray w-100\">\r\n        <label class=\"m-auto px-3 b-20-gray\" v-html=\"t('activity.audio')\"></label>\r\n      </div>\r\n    </div>\r\n    <div class=\"numeralia d-flex py-3\">\r\n      <div v-if=\"horas > 0\" class=\"num-circle\">\r\n        <div class=\"circle-black b-20-gray p-3\">\r\n          <label class=\"m-auto\">{{ horas + ':' + minutos.toString().padStart(2, '0') + ':' +\r\n            segundos.toString().padStart(2, '0') + 'h' }}</label>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"minutos > 0\" class=\"num-circle\">\r\n        <div class=\"circle-black b-20-gray p-3\">\r\n          <label class=\"m-auto\">{{ minutos + ':' + segundos.toString().padStart(2, '0') + 'm' }}</label>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"num-circle\">\r\n        <div class=\"circle-black b-20-gray p-3\">\r\n          <label class=\"m-auto\">{{ segundos.toString().padStart(2, '0') + 's' }}</label>\r\n        </div>\r\n      </div>\r\n      <div class=\"data-rec b-20-gray w-100\">\r\n        <label class=\"m-auto px-3 b-20-gray\" v-html=\"t('activity.horas')\"></label>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- GrÃ¡fica de barras -->\r\n  <div class=\"py-3 px-4\">\r\n    <p class=\"b-16-gray pt-2 pb-1 text-start\" v-html=\"t('activity.dias')\"></p>\r\n    <div>\r\n      <div v-if=\"historyStack.length > 0\" @click=\"goBack\" class=\"d-flex justify-content-start px-0\">\r\n        <div>\r\n          <button class=\"btn-back\">\r\n            <img width=\"20\" src=\"../assets/back.png\" class=\"m-auto\">\r\n          </button>\r\n        </div>\r\n        <div class=\"ps-0\">\r\n          <label class=\"b-18-gray\">Regresar</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <Bar :key=\"barKey\" style=\"overflow-y: visible;\" :data=\"barData\" :options=\"barOptions\" />\r\n    </div>\r\n  </div>\r\n  <!--GrÃ¡fica de calor-->\r\n  <div class=\"py-3 px-4\">\r\n    <p class=\"b-16-gray pt-2 pb-1 text-start\" v-html=\"t('activity.momentos')\">\r\n\r\n    </p>\r\n    <div style=\"display: flex; justify-content: center;\">\r\n      <table border=\"1\" style=\"border-collapse: collapse; width: 100%;\">\r\n        <tbody>\r\n          <!-- Generar filas desde la mÃ¡s alta hacia la mÃ¡s baja -->\r\n          <tr v-for=\"rowColor in maxRowsColor\" :key=\"rowColor\">\r\n            <td v-for=\"col in columnsColor\" :key=\"col\"\r\n              :style=\"{ backgroundColor: getColorAt(col, maxRowsColor - rowColor) }\" style=\"text-align:center;\">\r\n              {{ getValueAt(col, maxRowsColor - rowColor) ?? '' }}\r\n            </td>\r\n          </tr>\r\n\r\n          <!-- Fila inferior con nombres de los dÃ­as -->\r\n          <tr>\r\n            <td v-for=\"(label, i) in resolvedLabels\" :key=\"i\" style=\"font-weight:bold;text-align:center\">\r\n              {{ label }}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <div class=\"d-flex justify-content-start pt-4\">\r\n      <div class=\"mini-square\" style=\"background-color: #efefef; margin-top:2px;\"></div>\r\n      <div class=\"ps-3\">\r\n        <div class=\"b-14-gray text-start\">\r\n          {{ t('activity.registro') }}\r\n        </div>\r\n        <div ref=\"el1\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.audio')\" @click=\"toggle(1, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n          {{ t('activity.audioMin') }}: {{ resumenMomentos[0] || 0 }}\r\n        </div>\r\n        <div ref=\"el2\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.horas')\" @click=\"toggle(2, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n         {{ t('activity.horasMin') }}: {{ formatSeconds(resumenTiempo?.[0] || 0) }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"d-flex justify-content-start pt-4\">\r\n      <div class=\"mini-square\" style=\"background-color: #E3FCFF; margin-top:2px;\"></div>\r\n      <div class=\"ps-3\">\r\n        <div class=\"b-14-gray text-start\">\r\n          {{ t('activity.act') }}\r\n        </div>\r\n        <div ref=\"el3\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.audio')\" @click=\"toggle(3, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n          {{ t('activity.audioMin') }}: {{ resumenMomentos[1] || 0 }}\r\n        </div>\r\n        <div ref=\"el4\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.horas')\" @click=\"toggle(4, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n         {{ t('activity.horasMin') }}: {{ formatSeconds(resumenTiempo?.[1] || 0) }}\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"b-14-gray text-start ps-3\">\r\n        {{ t('activity.act') }}\r\n        <br> ({{ resumenMomentos[1] || 0 }}) / {{ formatSeconds(resumenTiempo?.[1] || 0) }}\r\n      </div> -->\r\n    </div>\r\n    <div class=\"d-flex justify-content-start pt-3\">\r\n      <div class=\"mini-square\" style=\"background-color: #FFE4B3; margin-top:2px;\"></div>\r\n      <div class=\"ps-3\">\r\n        <div class=\"b-14-gray text-start\">\r\n          {{ t('activity.mente') }}\r\n        </div>\r\n        <div ref=\"el5\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.audio')\" @click=\"toggle(5, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n          {{ t('activity.audioMin') }}: {{ resumenMomentos[2] || 0 }}\r\n        </div>\r\n        <div ref=\"el6\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.horas')\" @click=\"toggle(6, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n         {{ t('activity.horasMin') }}: {{ formatSeconds(resumenTiempo?.[2] || 0) }}\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"b-14-gray text-start ps-3\">\r\n        {{ t('activity.mente') }}\r\n        <br>\r\n        ({{ resumenMomentos[2] || 0 }}) / {{ formatSeconds(resumenTiempo?.[2] || 0) }}\r\n      </div> -->\r\n    </div>\r\n    <div class=\"d-flex justify-content-start pt-3\">\r\n      <div class=\"mini-square\" style=\"background-color: #FFC4B3; margin-top:2px;\"></div>\r\n      <div class=\"ps-3\">\r\n        <div class=\"b-14-gray text-start\">\r\n          {{ t('activity.lugares') }}\r\n        </div>\r\n        <div ref=\"el7\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.audio')\" @click=\"toggle(7, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n          {{ t('activity.audioMin') }}: {{ resumenMomentos[3] || 0 }}\r\n        </div>\r\n        <div ref=\"el8\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.horas')\" @click=\"toggle(8, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n         {{ t('activity.horasMin') }}: {{ formatSeconds(resumenTiempo?.[3] || 0) }}\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"b-14-gray text-start ps-3\">\r\n        {{ t('activity.lugares') }}\r\n        <br>\r\n        ({{ resumenMomentos[3] || 0 }}) / {{ formatSeconds(resumenTiempo?.[3] || 0) }}\r\n      </div> -->\r\n    </div>\r\n    <div class=\"d-flex justify-content-start pt-3\">\r\n      <div class=\"mini-square\" style=\"background-color: #FF9797; margin-top:2px;\"></div>\r\n      <div class=\"ps-3\">\r\n        <div class=\"b-14-gray text-start\">\r\n          {{ t('activity.palabras') }}\r\n        </div>\r\n        <div ref=\"el9\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.audio')\" @click=\"toggle(9, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n          {{ t('activity.audioMin') }}: {{ resumenMomentos[4] || 0 }}\r\n        </div>\r\n        <div ref=\"el10\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.horas')\" @click=\"toggle(10, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n         {{ t('activity.horasMin') }}: {{ formatSeconds(resumenTiempo?.[4] || 0) }}\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"b-14-gray text-start ps-3\">\r\n        {{ t('activity.palabras') }}\r\n        <br>\r\n        ({{ resumenMomentos[4] || 0 }}) / {{ formatSeconds(resumenTiempo?.[4] || 0) }}\r\n      </div> -->\r\n    </div>\r\n    <div class=\"d-flex justify-content-start pt-3 pb-4\">\r\n      <div class=\"mini-square\" style=\"background-color: #fb5353; margin-top:2px;\"></div>\r\n      <div class=\"ps-3\">\r\n        <div class=\"b-14-gray text-start\">\r\n          {{ t('activity.hablar') }}\r\n        </div>\r\n        <div ref=\"el11\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.audio')\" @click=\"toggle(11, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n          {{ t('activity.audioMin') }}: {{ resumenMomentos[5] || 0 }}\r\n        </div>\r\n        <div ref=\"el12\" class=\"r-12-gray text-start\" data-bs-toggle=\"tooltip\" :title=\"t('activity.horas')\" @click=\"toggle(12, $event)\" style=\"padding-right: 10px; width: fit-content;\">\r\n         {{ t('activity.horasMin') }}: {{ formatSeconds(resumenTiempo?.[5] || 0) }}\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"b-14-gray text-start ps-3\">\r\n        {{ t('activity.hablar') }}\r\n        <br>\r\n        ({{ resumenMomentos[5] || 0 }}) / {{ formatSeconds(resumenTiempo?.[5] || 0) }}\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n//Generales\r\nimport { useI18n } from 'vue-i18n'\r\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue'\r\nimport { API_BASE_URL } from '@/config/api'\r\nimport { Tooltip } from 'bootstrap';\r\n\r\nconst el1 = ref(null);\r\nconst el2 = ref(null);\r\nconst el3 = ref(null);\r\nconst el4 = ref(null);\r\nconst el5 = ref(null);\r\nconst el6 = ref(null);\r\nconst el7 = ref(null);\r\nconst el8 = ref(null);\r\nconst el9 = ref(null);\r\nconst el10 = ref(null);\r\nconst el11 = ref(null);\r\nconst el12 = ref(null);\r\n\r\nconst tooltips = {};\r\nconst { t, locale } = useI18n();\r\nconst selectedOption = ref(1)\r\nconst temporalidad = ref(1)\r\nconst mesSeleccionado = ref(0)\r\nconst semanaSeleccionada = ref(0)\r\n// Cantidad de audios\r\nconst countAudios = ref(0)\r\n//const TiempoRep = ref(0) \r\n\r\nconst labels = computed(() => ({\r\n  days: {\r\n    es: ['Lunes', 'Martes', 'MiÃ©rcoles', 'Jueves', 'Viernes', 'SÃ¡bado', 'Domingo'],\r\n    en: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\r\n  },\r\n  months: {\r\n    es: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],\r\n    en: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n  },\r\n  weeks: {\r\n    es: ['Sem1', 'Sem2', 'Sem3', 'Sem4', 'Sem5'],\r\n    en: ['Wk1', 'Wk2', 'Wk3', 'Wk4', 'Wk5']\r\n  }\r\n}))\r\n\r\nasync function GetAudiosCount(x) {\r\n  try {\r\n    const sesion = localStorage.getItem(\"token\")\r\n    if (!sesion) return\r\n\r\n    const response = await fetch(`${API_BASE_URL}/api/config/GetCountAudios`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ user: sesion, temporalidad: x })\r\n    })\r\n\r\n    const data = await response.json()\r\n\r\n    if (data.status == 1) {\r\n      countAudios.value = data.data\r\n    } else {\r\n      countAudios.value = 0\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error(\"Error al cargar audios:\", error)\r\n  }\r\n}\r\n\r\n//Tiempo de escucha\r\nconst horas = ref(0);\r\nconst minutos = ref(0);\r\nconst segundos = ref(0);\r\n\r\nasync function GetTimeAudios(x) {\r\n  try {\r\n    const sesion = localStorage.getItem(\"token\")\r\n    if (!sesion) return\r\n\r\n    const response = await fetch(`${API_BASE_URL}/api/config/GetTimeAudios`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ user: sesion, temporalidad: x })\r\n    })\r\n\r\n    const data = await response.json()\r\n\r\n    if (data.status == 1) {\r\n\r\n      const totalSegundos = data.data;\r\n      // OpciÃ³n 1: Guardar en variables separadas\r\n      horas.value = Math.floor(totalSegundos / 3600);\r\n      minutos.value = Math.floor((totalSegundos % 3600) / 60);\r\n      segundos.value = totalSegundos % 60;\r\n\r\n      // minutos.value = Math.floor(totalSegundos / 60);\r\n      // segundos.value = Math.floor(totalSegundos % 60);\r\n    } else {\r\n      horas.value = 0\r\n      minutos.value = 0\r\n      segundos.value = 0\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error(\"Error al cargar audios:\", error)\r\n  }\r\n}\r\n\r\n//GrÃ¡fica de barras\r\nimport { Chart as ChartJS, BarElement, CategoryScale, LinearScale, Tooltip as ChartTooltip, Legend } from 'chart.js'\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels'\r\nimport { Bar } from 'vue-chartjs'\r\n\r\n// const daysLabels = ref([])\r\nconst daysLabels = computed(() => {\r\n  if (!drillSource.value.length) return []\r\n\r\n  return drillSource.value.map(item =>\r\n    getLabelByKey(item.KeyLabel).substring(\r\n      0,\r\n      temporalidad.value == 2 ? 5 : 3\r\n    )\r\n  )\r\n})\r\nconst daysData = ref([])\r\nconst drillSource = ref([])\r\nconst historyStack = ref([]);\r\n\r\nChartJS.register(BarElement, CategoryScale, LinearScale, ChartTooltip, Legend, ChartDataLabels)\r\n\r\nconst barData = computed(() => ({\r\n  labels: daysLabels.value,\r\n  datasets: [\r\n    {\r\n      label: '',\r\n      data: daysData.value, // ðŸ”¹ ahora usa los datos dinÃ¡micos\r\n      backgroundColor: '#AAAAAA',\r\n      barThickness: 14,\r\n      borderRadius: 10,\r\n      pointStyle: 'circle',\r\n    }\r\n  ]\r\n}))\r\nconst barOptions = {\r\n  layout: {\r\n    padding: {\r\n      top: 10\r\n    }\r\n  },\r\n  responsive: true,\r\n  onClick: (evt, elements) => {\r\n    if (!elements.length) return;\r\n\r\n    const index = elements[0].index;\r\n    const item = drillSource.value[index];\r\n\r\n    if (!item) return;\r\n\r\n    handleDrill(item);\r\n  },\r\n  plugins: {\r\n    legend: {\r\n      display: true,\r\n      labels: {\r\n        padding: 10,\r\n        color: '#555',\r\n        boxHeight: 0\r\n      },\r\n    },\r\n    datalabels: {\r\n      anchor: 'end',\r\n      align: 'start',\r\n      offset: -30,\r\n      backgroundColor: '#000000',\r\n      borderRadius: 999,\r\n      color: '#ffffff',\r\n      font: {\r\n        weight: '500',\r\n        size: 10,\r\n      },\r\n      padding: {\r\n        top: 8,\r\n        bottom: 8,\r\n        left: 9,\r\n        right: 9,\r\n      },\r\n      formatter: (value) => value,\r\n      // --- AGREGAR ESTA SECCIÃ“N ---\r\n      listeners: {\r\n        click: (context) => {\r\n          // Obtenemos el Ã­ndice del cÃ­rculo (datalabel) al que se le dio clic\r\n          const index = context.dataIndex;\r\n          const item = drillSource.value[index];\r\n\r\n          if (item) {\r\n            handleDrill(item);\r\n          }\r\n        },\r\n        // Cambia el cursor a una mano para indicar que es clicable\r\n        enter: (context) => {\r\n          context.chart.canvas.style.cursor = 'pointer';\r\n        },\r\n        leave: (context) => {\r\n          context.chart.canvas.style.cursor = 'default';\r\n        }\r\n      }\r\n    },\r\n  },\r\n  scales: {\r\n    y: {\r\n      beginAtZero: true,\r\n      ticks: {\r\n        display: false,\r\n      },\r\n      grid: {\r\n        display: true\r\n      },\r\n    },\r\n    x: {\r\n      grid: {\r\n        display: false,\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\nfunction handleDrill(item) {\r\n  // Guardamos estado actual ANTES de cambiar\r\n  historyStack.value.push({\r\n    temporalidad: temporalidad.value,\r\n    mes: mesSeleccionado.value,\r\n    semana: semanaSeleccionada.value\r\n  });\r\n\r\n  // â¬‡ï¸ Si estÃ¡s viendo aÃ±o â†’ pasar a meses\r\n  if (temporalidad.value == 3) {\r\n    mesSeleccionado.value = item.KeyLabel;   // â† viene del backend\r\n    temporalidad.value = 2;\r\n    GetDays();\r\n    GetMomentsAudios();\r\n    return;\r\n  }\r\n\r\n  // â¬‡ï¸ Si estÃ¡s viendo mes â†’ pasar a semanas\r\n  if (temporalidad.value == 2) {\r\n    semanaSeleccionada.value = item.KeyLabel;  // â† viene del backend\r\n    temporalidad.value = 1;\r\n    GetDays();\r\n    GetMomentsAudios();\r\n    return;\r\n  }\r\n}\r\n\r\nfunction goBack() {\r\n  if (!historyStack.value.length) return;\r\n\r\n  const previous = historyStack.value.pop();\r\n\r\n  temporalidad.value = previous.temporalidad;\r\n  mesSeleccionado.value = previous.mes;\r\n  semanaSeleccionada.value = previous.semana;\r\n\r\n  GetDays();\r\n  GetMomentsAudios();\r\n}\r\n\r\nasync function GetDays() {\r\n  try {\r\n    const sesion = localStorage.getItem(\"token\")\r\n    if (!sesion) return\r\n\r\n    const response = await fetch(`${API_BASE_URL}/api/config/GetDays`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ user: sesion, temporalidad: temporalidad.value, anio: 0, mes: mesSeleccionado.value, semana: semanaSeleccionada.value })\r\n    })\r\n\r\n    const data = await response.json()\r\n\r\n    if (data.status == 1 && data.data != \"\") {\r\n      const parsedData = JSON.parse(data.data);\r\n      drillSource.value = parsedData;\r\n      daysData.value = parsedData.map(item => item.cantidadAudios)\r\n\r\n      barKey.value++\r\n      daysData.value = parsedData.map(item => item.cantidadAudios)\r\n    }\r\n    else {\r\n      // daysLabels.value = []\r\n      daysData.value = [0, 0, 0, 0, 0, 0, 0];\r\n      barKey.value++\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error al cargar audios:\", error)\r\n  }\r\n}\r\n\r\n//Mapa de calor\r\nconst coloresMomentos = [\r\n  \"#efefef\",\r\n  \"#E3FCFF\",\r\n  \"#FFE4B3\",\r\n  \"#FFC4B3\",\r\n  \"#FF9797\",\r\n  \"#fb5353\"\r\n];\r\n// const diasOrden = ['Lunes', 'Martes', 'MiÃ©rcoles', 'Jueves', 'Viernes', 'SÃ¡bado', 'Domingo'];\r\nconst dataColorEs = ref({});\r\n// const dayMap = {\r\n//   'Lunes': 'Mon',\r\n//   'Martes': 'Tue',\r\n//   'MiÃ©rcoles': 'Wed',\r\n//   'Jueves': 'Thu',\r\n//   'Viernes': 'Fri',\r\n//   'SÃ¡bado': 'Sat',\r\n//   'Domingo': 'Sun'\r\n// };\r\n\r\nconst columnsColor = computed(() => {\r\n  if (temporalidad.value == 1) {\r\n    return [1, 2, 3, 4, 5, 6, 7]        // dÃ­as\r\n  }\r\n  if (temporalidad.value == 2) {\r\n    return [1, 2, 3, 4, 5]             // semanas\r\n  }\r\n  return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]  // meses\r\n})\r\n\r\n// function getLabelByKey(key) {\r\n//   const lang = locale.value\r\n\r\n//   if (temporalidad.value === 1) {\r\n//     return labels.value.days[lang][key - 1]\r\n//   }\r\n\r\n//   if (temporalidad.value == 2) {\r\n//     return labels.value.weeks[lang][key - 1]\r\n//   }\r\n\r\n//   return labels.value.months[lang][key - 1]\r\n// }\r\nconst barKey = ref(0)\r\nfunction getLabelByKey(key) {\r\n  const lang = locale.value\r\n\r\n  let label\r\n\r\n  if (temporalidad.value == 1) {\r\n    label = labels.value.days[lang][key - 1]\r\n  } else if (temporalidad.value == 2) {\r\n    label = labels.value.weeks[lang][key - 1]\r\n  } else {\r\n    label = labels.value.months[lang][key - 1]\r\n  }\r\n\r\n  return label ?? ''\r\n}\r\n\r\nconst maxRowsColor = computed(() => {\r\n  return Math.max(\r\n    ...columnsColor.value.map(col => dataColorEs.value[col]?.length || 0),\r\n    0\r\n  );\r\n});\r\n\r\nconst getValueAt = (col, rowIndex) => {\r\n  const item = dataColorEs.value[col]?.[rowIndex];\r\n  return item ? item.intervalo : null;\r\n};\r\n\r\nfunction getColorAt(col, rowIndex) {\r\n  const item = dataColorEs.value[col]?.[rowIndex];\r\n\r\n  if (!item || item.cantidad === 0) return \"#fff\";\r\n  return coloresMomentos[item.momento] || \"#fff\";\r\n}\r\n\r\nasync function GetMomentsAudios() {\r\n  try {\r\n    const sesion = localStorage.getItem(\"token\")\r\n    if (!sesion) return\r\n\r\n    const response = await fetch(`${API_BASE_URL}/api/config/GetMomentsAudios`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        user: sesion, temporalidad: temporalidad.value, mes: mesSeleccionado.value,\r\n        semana: semanaSeleccionada.value\r\n      })\r\n    })\r\n\r\n    const data = await response.json()\r\n    console.log(data.data)\r\n    if (data.status !== 1 || !data.data) {\r\n      dataColorEs.value = {}\r\n      return;\r\n    }\r\n    // TiempoRep.value = 0\r\n    const parsed = JSON.parse(data.data)\r\n    // -------------------------\r\n    // ðŸŽ¯ SEMANA\r\n    // -------------------------\r\n    if (temporalidad.value == 1) {\r\n      const grouped = {}\r\n      columnsColor.value.forEach(k => grouped[k] = {})\r\n      // diasOrden.forEach(d => grouped[d] = {}) \r\n\r\n      parsed.forEach(item => {\r\n        const key = item.KeyLabel\r\n        const clave = `${item.Intervalo}-${item.Momento}`\r\n        // const intervalo = item.Intervalo\r\n\r\n        // if (!grouped[dia]) return\r\n        if (!grouped[key]) return\r\n\r\n        if (!grouped[key][clave]) {\r\n          grouped[key][clave] = {\r\n            intervalo: item.Intervalo,\r\n            momento: item.Momento,\r\n            cantidad: 0,\r\n            tiempo: 0\r\n          }\r\n        }\r\n\r\n        grouped[key][clave].cantidad += item.CantidadAudios\r\n        grouped[key][clave].tiempo += item.TiempoRep || 0\r\n        // TiempoRep.value += item.TiempoRep || 0\r\n      })\r\n      const result = {}\r\n      columnsColor.value.forEach(k => {\r\n        result[k] = Object.values(grouped[k])\r\n      })\r\n      // Convertimos OBJETO â†’ ARRAY\r\n      // const result = {}\r\n      // diasOrden.forEach(d => {\r\n      //   result[d] = Object.values(grouped[d])\r\n      // })\r\n\r\n      dataColorEs.value = result\r\n      return\r\n    }\r\n\r\n    if (temporalidad.value == 2) {\r\n\r\n      const grouped = {}\r\n      // semanas.forEach(s => grouped[s] = {})\r\n      columnsColor.value.forEach(k => grouped[k] = {})\r\n\r\n      parsed.forEach(item => {\r\n        const key = item.KeyLabel\r\n        const clave = `${item.Intervalo}-${item.Momento}`\r\n        //const intervalo = item.Intervalo\r\n\r\n        if (!grouped[key]) return\r\n\r\n        if (!grouped[key][clave]) {\r\n          grouped[key][clave] = {\r\n            intervalo: item.Intervalo,\r\n            momento: item.Momento,\r\n            cantidad: 0,\r\n            tiempo: 0\r\n          }\r\n        }\r\n\r\n        grouped[key][clave].cantidad += item.CantidadAudios\r\n        grouped[key][clave].tiempo += item.TiempoRep || 0\r\n      })\r\n\r\n      const result = {}\r\n      columnsColor.value.forEach(k => {\r\n        result[k] = Object.values(grouped[k])\r\n      })\r\n\r\n      dataColorEs.value = result\r\n      return\r\n    }\r\n\r\n    // -------------------------\r\n    // ðŸŽ¯ AÃ‘O  (Meses)\r\n    // -------------------------\r\n\r\n\r\n    if (temporalidad.value == 3) {\r\n\r\n      const grouped = {}\r\n      columnsColor.value.forEach(k => grouped[k] = {})\r\n      // meses.forEach(m => grouped[m] = {})\r\n\r\n      parsed.forEach(item => {\r\n        const key = item.KeyLabel\r\n        const clave = `${item.Intervalo}-${item.Momento}`\r\n        //const intervalo = item.Intervalo\r\n\r\n        if (!grouped[key]) return\r\n\r\n        // Si no existe ese intervalo aÃºn, crÃ©alo\r\n        if (!grouped[key][clave]) {\r\n          grouped[key][clave] = {\r\n            intervalo: item.Intervalo,\r\n            momento: item.Momento,\r\n            cantidad: 0,\r\n            tiempo: 0\r\n          }\r\n        }\r\n        // Sumamos los audios\r\n        grouped[key][clave].cantidad += item.CantidadAudios\r\n        grouped[key][clave].tiempo += item.TiempoRep || 0\r\n      })\r\n\r\n      const result = {}\r\n      columnsColor.value.forEach(k => {\r\n        result[k] = Object.values(grouped[k])\r\n      })\r\n\r\n      dataColorEs.value = result\r\n      return\r\n    }\r\n  } catch (e) {\r\n    console.error(\"Error momentos\", e)\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  GetDatos(selectedOption.value)\r\n\r\n  // 3. Inicializamos cada uno manualmente\r\n  const elements = { 1: el1, 2: el2, 3: el3, 4: el4, 5: el5, 6: el6, 7: el7, 8: el8, 9: el9, 10: el10, 11: el11, 12: el12};\r\n  \r\n  Object.entries(elements).forEach(([id, elementRef]) => {\r\n    if (elementRef.value) {\r\n      tooltips[id] = new Tooltip(elementRef.value, { trigger: 'manual', placement: 'right', customClass: 'custom-tooltip-width'  } );\r\n    }\r\n  });\r\n\r\n  // 4. Escuchador global para cerrar CUALQUIER tooltip abierto al hacer clic fuera\r\n  document.addEventListener('click', () => {\r\n    Object.values(tooltips).forEach(t => t.hide());\r\n  });\r\n})\r\n\r\nonUnmounted(() => {\r\n  // Limpieza para evitar fugas de memoria\r\n  Object.values(tooltips).forEach(t => t.dispose());\r\n  document.removeEventListener('click', () => {});\r\n});\r\n\r\nfunction GetDatos(x) {\r\n  temporalidad.value = x;\r\n  mesSeleccionado.value = 0;\r\n  semanaSeleccionada.value = 0;\r\n  GetAudiosCount(x);\r\n  GetTimeAudios(x);\r\n  GetDays();\r\n  GetMomentsAudios();\r\n}\r\n\r\n// watch(locale, () => {\r\n//   if (!drillSource.value.length) return;\r\n\r\n//   daysLabels.value = drillSource.value.map(item =>\r\n//     getLabelByKey(item.KeyLabel).substring(\r\n//       0,\r\n//       temporalidad.value === 2 ? 5 : 3\r\n//     )\r\n//   )\r\n// })\r\nwatch(locale, () => {\r\n  // Damos un pequeÃ±o respiro (nextTick) para que Vue actualice el DOM primero\r\n  setTimeout(() => {\r\n    Object.values(tooltips).forEach((tooltipInstance) => {\r\n      // 1. Obtener el nuevo tÃ­tulo traducido que Vue ya puso en el elemento\r\n      const nuevoTexto = tooltipInstance._element.getAttribute('title') || \r\n                         tooltipInstance._element.getAttribute('data-bs-original-title');\r\n      \r\n      // 2. Actualizar la instancia de Bootstrap\r\n      tooltipInstance.setContent({ '.tooltip-inner': nuevoTexto });\r\n      \r\n      // Nota: En Bootstrap 5.2+, setContent es el mÃ©todo oficial. \r\n      // Si usas una versiÃ³n anterior, usa: tooltipInstance.config.title = nuevoTexto;\r\n    });\r\n  }, 0);\r\n});\r\n\r\nconst resumenMomentos = computed(() => {\r\n  const resumen = {}\r\n\r\n  Object.values(dataColorEs.value).forEach(col => {\r\n    col.forEach(item => {\r\n      if (!resumen[item.momento]) resumen[item.momento] = 0\r\n      resumen[item.momento] += item.cantidad\r\n    })\r\n  })\r\n\r\n  return resumen\r\n})\r\n\r\nconst resumenTiempo = computed(() => {\r\n  const resumen = {}\r\n\r\n  Object.values(dataColorEs.value).forEach(col => {\r\n    col.forEach(item => {\r\n      if (!resumen[item.momento]) resumen[item.momento] = 0\r\n      resumen[item.momento] += item.tiempo || 0\r\n    })\r\n  })\r\n\r\n  return resumen\r\n})\r\n\r\nfunction formatSeconds(totalSeconds = 0) {\r\n  const total = Number(totalSeconds) || 0\r\n\r\n  const h = Math.floor(total / 3600)\r\n  const m = Math.floor((total % 3600) / 60)\r\n  const s = total % 60\r\n\r\n  if (h > 0) {\r\n    return `${h.toString().padStart(2, '0')}:${m\r\n      .toString()\r\n      .padStart(2, '0')}:${s.toString().padStart(2, '0')}h`\r\n  }\r\n\r\n  if (m > 0) {\r\n    return `${m.toString().padStart(2, '0')}:${s\r\n      .toString()\r\n      .padStart(2, '0')}m`\r\n  }\r\n\r\n  return `${s.toString().padStart(2, '0')}s`\r\n}\r\n\r\nconst resolvedLabels = computed(() => {\r\n  return columnsColor.value.map(col =>\r\n    getLabelByKey(col).substring(\r\n      0,\r\n      temporalidad.value == 2 ? 5 : 3\r\n    )\r\n  )\r\n})\r\n\r\nconst toggle = (id, event) => {\r\n  event.stopPropagation(); // Evita que el clic se propague al document\r\n  const instance = tooltips[id];\r\n  if (instance) instance.toggle();\r\n};\r\n</script>\r\n\r\n<style>\r\ntable td,\r\ntable th {\r\n  border: 1px solid #ccc;\r\n}\r\n\r\n.h6 {\r\n  height: 24px;\r\n  width: 32px;\r\n}\r\n\r\n.custom-tooltip-width {\r\n  --bs-tooltip-max-width: 350px;\r\n  --bs-tooltip-bg: #333; /* Puedes cambiar el color de fondo tambiÃ©n */\r\n  --bs-tooltip-border-radius: 8px;\r\n}\r\n.custom-tooltip-width > div .tooltip-inner {\r\n  max-width: 400px !important;\r\n}\r\n</style>","import script from \"./AngerDashboard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AngerDashboard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AngerDashboard.vue?vue&type=style&index=0&id=4e749da6&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["el1","ref","el2","el3","el4","el5","el6","el7","el8","el9","el10","el11","el12","tooltips","t","locale","useI18n","selectedOption","temporalidad","mesSeleccionado","semanaSeleccionada","countAudios","labels","computed","days","es","en","months","weeks","async","GetAudiosCount","x","sesion","localStorage","getItem","response","fetch","API_BASE_URL","method","headers","body","JSON","stringify","user","data","json","status","value","error","console","horas","minutos","segundos","GetTimeAudios","totalSegundos","Math","floor","daysLabels","drillSource","length","map","item","getLabelByKey","KeyLabel","substring","daysData","historyStack","ChartJS","register","BarElement","CategoryScale","LinearScale","ChartTooltip","Legend","ChartDataLabels","barData","datasets","label","backgroundColor","barThickness","borderRadius","pointStyle","barOptions","layout","padding","top","responsive","onClick","evt","elements","index","handleDrill","plugins","legend","display","color","boxHeight","datalabels","anchor","align","offset","font","weight","size","bottom","left","right","formatter","listeners","click","context","dataIndex","enter","chart","canvas","style","cursor","leave","scales","y","beginAtZero","ticks","grid","push","mes","semana","GetDays","GetMomentsAudios","goBack","previous","pop","anio","parsedData","parse","cantidadAudios","barKey","coloresMomentos","dataColorEs","columnsColor","key","lang","maxRowsColor","max","col","getValueAt","rowIndex","intervalo","getColorAt","cantidad","momento","log","parsed","grouped","forEach","k","clave","Intervalo","Momento","tiempo","CantidadAudios","TiempoRep","result","Object","values","e","GetDatos","onMounted","entries","id","elementRef","Tooltip","trigger","placement","customClass","document","addEventListener","hide","onUnmounted","dispose","removeEventListener","watch","setTimeout","tooltipInstance","nuevoTexto","_element","getAttribute","setContent","resumenMomentos","resumen","resumenTiempo","formatSeconds","totalSeconds","total","Number","h","m","s","toString","padStart","resolvedLabels","toggle","event","stopPropagation","instance","__exports__"],"sourceRoot":""}