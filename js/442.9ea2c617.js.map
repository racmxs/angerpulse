{"version":3,"file":"js/442.9ea2c617.js","mappings":"yYAkDA,MAAM,EAAEA,IAAMC,EAAAA,EAAAA,MAERC,GAAaC,EAAAA,EAAAA,IAAI,IAEvBC,eAAeC,IACf,IACQ,MAAMC,QAAiBC,MAAM,sEAAuE,CACpGC,OAAQ,OACRC,QAAS,CAAE,eAAgB,sBAErBC,QAAaJ,EAASK,OAE5BT,EAAWU,MAAQC,KAAKC,MAAMJ,EAAKA,MACnCK,QAAQC,IAAId,EAAWU,MAE3B,CAAE,MAAOK,GACLF,QAAQG,MAAM,8BAA+BD,EACjD,CAEJ,CAEAb,eAAee,IACX,MAAMC,EAASC,aAAaC,QAAQ,SACpC,IAAKF,EAAQ,OAEb,MAAMd,QAAiBC,MAAM,qEAAsE,CACjGC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3Bc,KAAMV,KAAKW,UAAU,CAAEC,SAAUL,MAGnC,IAAKd,EAASoB,GAAI,MAAM,IAAIC,MAAM,wBAElC,MAAMjB,QAAaJ,EAASK,OAC5BI,QAAQC,IAAIN,EAAKA,YAEXkB,EAAAA,EAAAA,MACNC,SAASC,eAAe,OAASpB,EAAKA,MAAMqB,SAAU,CAE1D,CAEA3B,eAAe4B,IACX,MAAMZ,EAASC,aAAaC,QAAQ,SACpC,IAAKF,EAAQ,OAEb,MAAMd,QAAiBC,MAAM,qEAAsE,CACjGC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3Bc,KAAMV,KAAKW,UAAU,CAAEC,SAAUL,EAAQa,cAAeJ,SAASK,cAAc,6BAA6BtB,UAG9G,IAAKN,EAASoB,GAAI,MAAM,IAAIC,MAAM,wBAElC,MAAMjB,QAAaJ,EAASK,OAC5BI,QAAQC,IAAIN,EAChB,C,OAGAyB,EAAAA,EAAAA,KAAU,KACR9B,GAAe,KAGjB+B,EAAAA,EAAAA,IAAMlC,GAAYE,UACZiC,EAAOC,OAAS,SACZnB,GACR,I,g0BChHF,MAAMoB,EAAc,EAEpB,O","sources":["webpack://angerpulse/./src/components/AngerConfig.vue","webpack://angerpulse/./src/components/AngerConfig.vue?b9bc"],"sourcesContent":["<template>\r\n    <div>\r\n        <label class=\"b-24-black\" v-html=\"t('audio.title')\"></label>\r\n        <p class=\"r-16-gray py-4 px-3\" v-html=\"t('audio.saber')\">\r\n        </p>\r\n        <p class=\"b-16-black ps-3 text-start\" v-html=\"t('audio.escoje')\">\r\n        </p>\r\n        <!-- <div class=\"square-info pt-3 pb-2 px-3\">\r\n            <ul class=\"ps-0\">\r\n                <li class=\"list-group-item text-start py-2\">\r\n                    <input id=\"opc-1\" class=\"form-check-input me-1\" type=\"radio\" name=\"dur\" value=\"\">\r\n                    <label for=\"opc-1\" v-html=\"t('audio.min2')\"></label>\r\n                </li>\r\n                <li class=\"list-group-item text-start py-2\">\r\n                    <input id=\"opc-2\" class=\"form-check-input me-1\" type=\"radio\" name=\"dur\" value=\"\">\r\n                    <label for=\"opc-2\" v-html=\"t('audio.min3')\"></label>\r\n                </li>\r\n                <li class=\"list-group-item text-start py-2\">\r\n                    <input id=\"opc-3\" class=\"form-check-input me-1\" type=\"radio\" name=\"dur\" value=\"\">\r\n                    <label for=\"opc-3\" v-html=\"t('audio.min5')\"></label>\r\n                </li>\r\n            </ul>\r\n        </div> -->\r\n         <div class=\"square-info pt-3 pb-2 px-3\">\r\n    <ul class=\"ps-0\">\r\n      <li\r\n        v-for=\"item in duraciones\"\r\n        :key=\"item.IdDuracion\"\r\n        class=\"list-group-item text-start py-2\"\r\n      >\r\n        <input @click=\"SetConfigUser()\"\r\n          class=\"form-check-input me-1\"\r\n          type=\"radio\"\r\n          name=\"dur\"\r\n          :id=\"`opc-${item.IdDuracion}`\"\r\n          :value=\"item.IdDuracion\"\r\n        />\r\n        <label :for=\"`opc-${item.IdDuracion}`\">{{ item.Descripcion }}</label>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n        <p class=\"r-16-gray py-4 px-3\" v-html=\"t('audio.sugerencia')\">\r\n        </p>\r\n    </div>\r\n   \r\n</template>\r\n<script setup>\r\nimport { useI18n } from 'vue-i18n'\r\nimport { ref, onMounted, nextTick, watch  } from 'vue'\r\n\r\nconst { t } = useI18n()\r\n\r\nconst duraciones = ref([])\r\n\r\nasync function GetDuraciones(){\r\ntry {\r\n        const response = await fetch(\"https://marcoracm-002-site1.mtempurl.com/api/config/GetAudioLengths\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" }\r\n        })\r\n        const data = await response.json()\r\n\r\n        duraciones.value = JSON.parse(data.data);\r\n        console.log(duraciones.value)\r\n\r\n    } catch (err) {\r\n        console.error('Error al cargar duraciones:', err)\r\n    }\r\n\r\n}\r\n\r\nasync function GetConfigUser(){\r\n    const sesion = localStorage.getItem(\"token\")\r\n    if (!sesion) return\r\n\r\n    const response = await fetch(\"https://marcoracm-002-site1.mtempurl.com/api/config/GetAudioLength\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ username: sesion })\r\n    })\r\n\r\n    if (!response.ok) throw new Error(\"Error en la petición\")\r\n\r\n    const data = await response.json()\r\n    console.log(data.data)\r\n\r\n    await nextTick() // espera que Vue actualice el DOM\r\n    document.getElementById('opc-' + data.data).checked = true;\r\n\r\n}\r\n\r\nasync function SetConfigUser(){\r\n    const sesion = localStorage.getItem(\"token\")\r\n    if (!sesion) return\r\n\r\n    const response = await fetch(\"https://marcoracm-002-site1.mtempurl.com/api/config/SetAudioLength\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ username: sesion, idAudioLength: document.querySelector('input[name=\"dur\"]:checked').value })\r\n    })\r\n\r\n    if (!response.ok) throw new Error(\"Error en la petición\")\r\n\r\n    const data = await response.json()\r\n    console.log(data)\r\n}\r\n\r\n\r\nonMounted(() => {\r\n  GetDuraciones();\r\n})\r\n\r\nwatch(duraciones, async (newVal) => {\r\n  if (newVal.length > 0) {\r\n    await GetConfigUser()\r\n  }\r\n})\r\n</script>","import script from \"./AngerConfig.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AngerConfig.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["t","useI18n","duraciones","ref","async","GetDuraciones","response","fetch","method","headers","data","json","value","JSON","parse","console","log","err","error","GetConfigUser","sesion","localStorage","getItem","body","stringify","username","ok","Error","nextTick","document","getElementById","checked","SetConfigUser","idAudioLength","querySelector","onMounted","watch","newVal","length","__exports__"],"sourceRoot":""}