"use strict";(self["webpackChunkangerpulse"]=self["webpackChunkangerpulse"]||[]).push([[696],{150:function(e){e.exports="data:image/png;base64,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"},2188:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAbCAYAAABxwd+fAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACPSURBVHgB7ZWhEYUwEETvg/kSmRKQkZRDCeBAYXFQAq3QQcqIRCLZDMi9KAZ1O7OT5G7z7P4E8t5PODq5tYUQesmI5UsMFzwG+P+4cc5JjHFXIDRf4NKSfCe6aD6BKrJgs9yuKuQlGchABjKQgT4BHWR+ZP7QfAKtZLGJLpovUxGi4FLF1PAJz2jOUaNo+QsULSrD91XxLQAAAABJRU5ErkJggg=="},2674:function(e,a,l){l.d(a,{J:function(){return n}});const n="https://marcoracm-002-site1.mtempurl.com"},3696:function(e,a,l){l.r(a),l.d(a,{default:function(){return ie}});l(8111),l(2489),l(7588),l(1701);var n=l(6768),t=l(144),o=l(4232),A=l(5130),u=l(3793),i=l(6307),r="data:image/png;base64,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",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAsCAYAAAA5KtvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALxSURBVHgB5Zo/kyFBGMafsSdBICEmRbAJdRmx5ARIV4zgvgE+wSVKTCyRCC5CiuASqi46UpJNEAhcP3Pbajh7V9vTs7ZmflW91WOrpvo33f2+7/wxcINCoRD2+/1PopsT7VG0GFyCcf1DsVj8YhhGV3TDcCE+64GQ/SZkB3CpLDkLC9mGkP0Kl2Mu6XK5/HQ6nbrwAOYMC9kmPIKPswsXReH/4ROzW4CH4JKOwUNQ+BF3JBKJoN1um419p/HhziSTSUSjUbM1Gg3Hpe8uPJvNsN1uzf57SN9deLfbodlsvpu0USqVTtBAIpFALBYzmwoU5PKWbDYbtFqt84XQxSfYhAOtVqsXg9UBZzqfz6PX60EntoSz2SwqlQqCwSCcYL1eQzfKwpxZq+x+v8dwODQHyX35Vjib6XT6fNzv9zEej6EbZWEGFim7Wq3MwENpFcSd2l+ybE6gFKU5OO4xwqBiR5bBTtTz52MnZYmScC6XO/c5OFVZEgqFLs7lpCxRWtIyR3Kv2t1n0+kUnU7H7FvPFQgEzAtrLUx0oCQsc62ugdy6aLVazdw6DGb1eh26UFrSUlR3UWBFriIZK3ShNMMMUplMBqPR6OJ35mUymUxgF7mKmAF0oiTMmWXOtcLUIqMt9/Z8Pocq8sIR3cJabh6ssuRwOEAVLmVR35+PdawWK7aFr2WZVhaLBVSgLAsauW8ZoVXP9Rq2aulrWaYYDpDFxFtgCuLNB9OQrN64bbrdLnSjfHvIfcbU4QSyenMiCyjPcDwehxMwJ3Nm7VRv/0JZmFGahYH1ycRyuVSeFUZjpjmnRCW2nnhQlktPSjv1lEIntqL09V6Tz6MYhD4qttPSLWlWYR8VLYWHVZpNd+7UiSHy6C/xfikGj8CXaT/gIbikx/AQvuPxyAe/z/AIvsFg8CyWdQUe4YF/RIX0UxT8YcMwPsPlPMiOkP7OuxwhnYOLebAeCOlJKpVa4c9Lcld+q2W89o+Xj10KLzn6rl8J6OQ3Ib9IPXxL2bQAAAAASUVORK5CYII=",s=l(150),v=l(8710),d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD0SURBVHgBrdPNDYIwFAdwSnvwyAgcCVwYASaQI2s4gbiBe0BAJzBu4ImzbtAB+PD/GjDVcKDUlzQ0r+2P95KWOYaR57nf932DqT+O47mqqhPl+QbkhmmAsWOMJWEYOm3b3o2gIAgaHI71HGFRFEm2Bpgq2XPOr1NFvr6OFqVYiajDXdd5Qoj0F0NVkq9F5jaGYZDADqgiQ8rDeGJPwtci2t91LMaerK7rlzBBNKzAuizLMp1zrikyBbVz+cI3Igm1swjZIB/IFlHQPxAKFxuOtoiCcBd8W0RBuBOeLaIgZ7ktI4SCbrakCT08fB70koEUJgjFG10+yo5NN02pAAAAAElFTkSuQmCC",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHnSURBVHgBnVU9kwFBEJ3dOvklpFZKIkDKP7ABUheTEu/6BTLxiVHl/sHGCARIrRCBC5CoMtdv7kbNfmDdq9qdre7pNz1vpns1FgLTNN9jsVidPkv0ZOkxYOeczzVNc6/X63g0GvXDYjW/oVKplCnoM51Ov5dKJUYjSyQSwrder9lms2GTyYTNZjMQ2/eIJVm30WjwxWLBn2G73XLMpRjrHpnVbrf58XjkUYG5rVYLpF0PWa1Wq2O1V8hU0r9MyzfCarW6xhb+C0hEhAccpo7s8vm8IYWXGAwGrNlssv1+f7PhGzb4VGQyGTziZui0gEmEAU0dxxEEtm2LUf2Gzw/cCAxv9DIIgQmWZbFOp3MjkhnG43Hh8wNZErI6XmGEkACBIJAZSjK/PAB8SE5nD0AXPJJNhY5SUoWXUDXD6jJTafPDdV0McxzKfLlcBiaoZNimun2paQihiy07YadWLBY9mqmawufHdDplaBqis9DFPkSp33vY7XYcxSE0HI/H32T76PV67Hw+s1eBGEiAzuNxoMDRHE6nU+TMMBcxDzsOCh1beAY6SNkUPJ0mcKlQ2zTfLhQKRi6XY6lUiiWTSeHDCa9WK1F6RCikGg6HXw8JVWIaTAoy2O9vAJfapWFONudyufShvz/uB6P/aLz+xKXgAAAAAElFTkSuQmCC",k=l(5384),g=l(2674);const m=["innerHTML"],h=["innerHTML"],f={key:0,class:"audio-player"},w={class:"song-info"},L={class:"time"},C=["max"],R={class:"d-flex pb-5 pt-2"},E=["src"],b={src:r,class:"m-auto",width:"35"},y={src:c,class:"m-auto",width:"35"},S={class:"fullblack py-1"},B=["innerHTML"],U=["innerHTML"],Q={class:"ps-0"},K={class:"list-group-item text-start r-16-gray py-2"},T={class:"ps-5 form-check"},X=["innerHTML"],x={class:"list-group-item text-start r-16-gray py-2"},N={class:"ps-5 form-check"},M=["innerHTML"],V={class:"list-group-item text-start r-16-gray py-2"},D={class:"ps-5 form-check"},O=["innerHTML"],Y={class:"list-group-item text-start r-16-gray py-2"},H={class:"ps-5 form-check"},J=["innerHTML"],I={class:"list-group-item text-start r-16-gray py-2"},F={class:"ps-5 form-check"},j=["innerHTML"],G={class:"d-flex justify-content-center pt-3 pb-5"},q={class:"px-3"},P=["innerHTML"],W={class:"px-3"},z=["innerHTML"],Z={key:0,class:"text-center py-5"},$=["onTouchstart"],_=["onClick"],ee={style:{flex:"1",cursor:"pointer"},class:"text-start span-audio"},ae={key:0,disabled:""},le=["onKeyup","onBlur"],ne=["onClick"],te=["onClick"];var oe={__name:"AngerAudioteca",setup(e){const{t:a}=(0,k.s9)(),r=(0,t.KR)([]),c=new URL(l(8710),l.b).href,oe=new URL(l(2188),l.b).href,Ae=(0,t.KR)(0),ue=(0,t.KR)(!1),ie=(0,t.KR)(!1),re=(0,t.KR)(!0),ce=(0,t.KR)(0),se=(0,t.KR)(0),ve=document.createElement("audio");ve.preload="auto",ve.playsInline=!0,ve.setAttribute("playsinline",""),ve.setAttribute("webkit-playsinline",""),ve.crossOrigin="anonymous",ve.muted=!1,ve.volume=1;const de=(0,t.KR)(0),pe=(0,t.KR)(0),ke=(0,t.KR)(0),ge=(0,t.KR)(!1);let me=null;const he=(0,t.KR)(0),fe=(0,t.KR)(null);let we,Le,Ce,Re,Ee,be=[];const ye=(0,n.EW)((()=>r.value[Ae.value]?.name||""));function Se(){if(ve){if(we||(we=new(window.AudioContext||window.webkitAudioContext)),!Re)try{Re=we.createMediaElementSource(ve)}catch(e){console.warn("No se pudo crear MediaElementSource (quizá ya existe):",e)}if(!Le){Le=we.createAnalyser(),Le.fftSize=256;const e=Le.frequencyBinCount;Ce=new Uint8Array(e)}try{Re&&Le&&(Re.connect(Le),Le.connect(we.destination))}catch(e){console.warn("Error al conectar audio nodes:",e)}if(Be(),"suspended"===we.state){const e=async()=>{try{await we.resume()}catch(a){console.warn("Error resuming audioContext:",a)}finally{document.removeEventListener("touchstart",e),document.removeEventListener("click",e)}};document.addEventListener("touchstart",e,{once:!0}),document.addEventListener("click",e,{once:!0})}}}function Be(){const e=fe.value,a=e.getContext("2d"),l=e.width,n=e.height,t=n/2;function o(){Ee=requestAnimationFrame(o),Le.getByteFrequencyData(Ce),a.clearRect(0,0,l,n);const e=l/Ce.length;let A=0;for(let l=0;l<Ce.length;l++){const n=Ce[l],o=n/2,u=a.createLinearGradient(0,t-o,0,t+o);u.addColorStop(0,"#00f"),u.addColorStop(1,"#0ff"),a.fillStyle=u,a.fillRect(A,t-o,e,o),a.fillRect(A,t,e,o),A+=e+1}const u=Ze.value[Ae.value];if(u){const e=u.getContext("2d");e.clearRect(0,0,u.width,u.height);const a=u.width/Ce.length;let l=0;for(let n=0;n<Ce.length;n++){const t=Ce[n],o=t/3;e.fillStyle="#0af",e.fillRect(l,u.height-o,a,o),l+=a+1}}}o()}function Ue(e){const a=[...Array(e).keys()];for(let l=a.length-1;l>0;l--){const e=Math.floor(Math.random()*(l+1));[a[l],a[e]]=[a[e],a[l]]}return a}function Qe(){ue.value=!1}function Ke(e){const a=r.value[e];a&&(ve.src=a.url,pe.value=0,ve.load(),ve.muted=!1,ve.volume=1,xe(),ie.value?(we&&"suspended"===we.state&&we.resume().catch((e=>console.warn("resume falló",e))),ve.play().then((()=>{ie.value=!0,Xe()})).catch((e=>{console.warn("iOS puede haber bloqueado la reproducción:",e)}))):ie.value=!1)}async function Te(){try{we&&"suspended"===we.state&&await we.resume()}catch(e){console.warn("No se pudo reanudar audioContext:",e)}if(ve.paused)try{ve.muted=!1,ve.volume=1,await ve.play(),ie.value=!0,Xe()}catch(e){console.warn("Error al play (iOS puede bloquear):",e)}else da(1),ve.pause(),ie.value=!1,xe(),ke.value++,he.value>=110|(he.value>=107&&ke.value>2)&&(ue.value=!0,he.value=0,ge.value=!0,ke.value=0)}function Xe(){me||(me=setInterval((()=>{he.value++,pe.value++}),1e3))}function xe(){clearInterval(me),me=null}function Ne(){da(0),re.value?(0===be.length&&(be=Ue(r.value.length)),Ae.value=be.shift()):Ae.value=(Ae.value+1)%r.value.length,ie.value=!0,Ke(Ae.value)}function Me(){da(0),re.value?(0===be.length&&(be=Ue(r.value.length)),Ae.value=be.shift()):Ae.value=(Ae.value-1+r.value.length)%r.value.length,ie.value=!0,Ke(Ae.value)}function Ve(){re.value=!re.value,re.value?(be=Ue(r.value.length),be=be.filter((e=>e!==Ae.value))):be=[]}function De(){ve.currentTime=ce.value}function Oe(e){const a=Math.floor(e/60),l=Math.floor(e%60).toString().padStart(2,"0");return`${a}:${l}`}function Ye(e){return e.replace(/\.[^.]+(?=\.\w+$)/,"")}async function He(){try{const e=localStorage.getItem("token");if(!e)return;const a=await fetch(`${g.J}/api/audioteca/GetAudioteca`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(!a.ok)throw new Error("Error en la petición");const l=await a.json();if(""==l.data)return void(r.value=[]);{const e=Array.isArray(JSON.parse(l.data))?JSON.parse(l.data):l.data;if(console.log("Respuesta de la API:",e),!Array.isArray(e))throw new Error("dataAudios no es un array");const a=e.map((e=>{const a=Ye(e.NombreAudio);return{id:e.Id_Audioteca,url:`/audios/${a}`,nombre:e.Nombre}}));r.value=a.map((e=>({id:e.id,name:e.nombre,url:e.url}))),console.log("Audios cargados:",r.value),r.value.length>0&&Ke(0)}}catch(e){console.error("Error al cargar audios:",e)}}async function Je(){await He(),0!==r.value.length&&(Ke(0),Se())}ve.addEventListener("timeupdate",(()=>{ce.value=ve.currentTime,se.value=ve.duration||0})),ve.addEventListener("ended",(()=>{Ne()})),(0,n.sV)((()=>{Je()})),(0,n.xo)((()=>{cancelAnimationFrame(Ee),ve.pause(),ve.src="",we&&we.close()}));const Ie=(0,t.KR)(null),Fe=(0,t.KR)("");function je(e){ie.value=!0,Ae.value=e,Ke(e),Xe(),ie.value=!0}function Ge(e){const a=r.value[e],l=Ae.value===e;if(l&&(ve.pause(),ie.value=!1,xe()),0===r.value.length)return Ae.value=0,void(ve.src="");Ae.value>e?Ae.value-=1:Ae.value===e&&Ae.value>=r.value.length&&(Ae.value=0),qe(a.id),r.value.length>0&&(Ke(Ae.value),ie.value=!0,Xe()),r.value.splice(e,1),Ae.value>=r.value.length&&(Ae.value=0)}async function qe(e){try{const a=localStorage.getItem("token");if(!a)return;const l=await fetch(`${g.J}/api/audioteca/SetAudiotecaEstatus`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audioteca:e+""})});if(!l.ok)throw new Error("Error en la petición")}catch(a){console.error("Error al cargar audios:",a)}}function Pe(e){Ie.value=e,Fe.value=r.value[e].name}async function We(e){const a=Fe.value.trim();if(a){r.value[e].name=a;try{await ze(r.value[e].id,a)}catch(l){console.error("Error al cambiar el nombre en el servidor:",l)}Ie.value=null}else Ie.value=null}async function ze(e,a){try{const l=await fetch(`${g.J}/api/audioteca/SetAudiotecaName`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idaudioteca:e+"",name:a})});if(!l.ok)throw new Error("Error en la petición")}catch(l){console.error("Error al cargar audios:",l)}}const Ze=(0,t.KR)({});function $e(e,a){e&&(Ze.value[a]=e)}const _e=(0,t.KR)(null),ea=(0,t.KR)(!1),aa=(0,t.KR)(null),la=(0,t.KR)(""),na=(0,t.KR)(0),ta=(0,t.KR)(0),oa=(0,t.KR)({top:0,bottom:0,left:0,width:0});let Aa=null;const ua=(0,n.EW)((()=>({position:"fixed",top:`${Math.min(Math.max(ta.value-na.value,oa.value.top),oa.value.bottom-1)}px`,left:`${oa.value.left}px`,width:`${oa.value.width}px`,zIndex:9999,pointerEvents:"none"})));function ia(e,a){const l=a.touches[0],n=a.currentTarget,t=n.getBoundingClientRect(),o=_e.value.getBoundingClientRect();oa.value={top:o.top,bottom:o.bottom,left:o.left,width:o.width},na.value=l.clientY-t.top,ta.value=l.clientY,Aa=setTimeout((()=>{ea.value=!0,Ae.value=e,la.value=r.value[e].name}),500)}function ra(e){if(!ea.value)return;const a=e.touches[0];ta.value=a.clientY;const l=sa(a.clientY);if(null==l||l===Ae.value)return;const n=r.value,t=n.splice(Ae.value,1)[0];n.splice(l,0,t),Ae.value=l}function ca(){if(clearTimeout(Aa),!ea.value)return;const e=Ae.value;ea.value=!1,Ae.value=null,la.value="",aa.value=null,document.querySelectorAll(".lisongs").forEach((e=>e.classList.remove("is-ready"))),ie.value=!0,Ae.value=e,Xe(),ie.value=!0}function sa(e){const a=_e.value;if(!a)return null;const l=Array.from(a.querySelectorAll(".lisongs"));if(!l.length)return null;for(let n=0;n<l.length;n++){const a=l[n].getBoundingClientRect(),t=a.top+a.height/2;if(e<t)return n}return l.length-1}async function va(){try{const e=localStorage.getItem("token");if(!e)return;const a=await fetch(`${g.J}/api/config/SetMoment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idMomento:document.querySelector('input[name="plan"]:checked').value,idUser:e,idAudio:de.value})});if(ue.value=!1,!a.ok)throw new Error("Error en la petición")}catch(e){console.error("Error al cargar audios:",e),ue.value=!1}}async function da(e){try{const a=localStorage.getItem("token");if(!a)return;const l=r.value[Ae.value],n=await fetch(`${g.J}/api/config/SetPlay`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idReproduccion:de.value,tiempo:pe.value,idUser:a,idAudio:l.id+"",home:!1})});ue.value=!1;const t=await n.json();if(!n.ok)throw new Error("Error en la petición");console.log(n),de.value=0==e?0:t.data}catch(a){console.error("Error al cargar audios:",a),ue.value=!1}}return(e,l)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bo)((0,n.Lk)("div",null,[(0,n.Lk)("label",{class:"b-24-black",onClick:l[0]||(l[0]=(...a)=>e.updateShow&&e.updateShow(...a)),innerHTML:(0,t.R1)(a)("audioteca.title")},null,8,m),l[7]||(l[7]=(0,n.Lk)("br",null,null,-1)),l[8]||(l[8]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("div",null,[(0,n.Lk)("p",{class:"m-16-gray px-4 pt-2 pb-1",innerHTML:(0,t.R1)(a)("audioteca.info")},null,8,h)]),r.value.length>0?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.Lk)("canvas",{ref_key:"canvasRef",ref:fe,width:"256",height:"70",class:"visualizer"},null,512),(0,n.Lk)("div",w,[(0,n.Lk)("h3",null,(0,o.v_)(ye.value),1),(0,n.Lk)("div",L,(0,o.v_)(Oe(ce.value))+" / "+(0,o.v_)(Oe(se.value)),1),(0,n.bo)((0,n.Lk)("input",{type:"range",min:"0",max:se.value,"onUpdate:modelValue":l[1]||(l[1]=e=>ce.value=e),onInput:De},null,40,C),[[A.Jo,ce.value]])]),(0,n.Lk)("div",R,[(0,n.Lk)("img",{src:u,class:"m-auto",onClick:Me}),(0,n.Lk)("img",{src:ie.value?(0,t.R1)(oe):(0,t.R1)(c),style:{height:"100%",width:"fit-content",margin:"auto"},onClick:Te},null,8,E),(0,n.Lk)("img",{src:i,class:"m-auto",onClick:Ne}),(0,n.Lk)("button",{onClick:Ve,class:(0,o.C4)([{active:re.value},"shuffle-button m-auto"])},[(0,n.bo)((0,n.Lk)("img",b,null,512),[[A.aG,!re.value]]),(0,n.bo)((0,n.Lk)("img",y,null,512),[[A.aG,re.value]])],2)])])):(0,n.Q3)("",!0),(0,n.Lk)("div",S,[(0,n.Lk)("p",{class:"sb-20-white text-start",innerHTML:(0,t.R1)(a)("audioteca.audioejercicios")},null,8,B),l[6]||(l[6]=(0,n.Lk)("div",{style:{position:"absolute",right:"20px","margin-top":"-20px"}},[(0,n.Lk)("img",{src:s,class:"m-auto"})],-1))]),l[9]||(l[9]=(0,n.Lk)("br",null,null,-1))],512),[[A.aG,!ue.value]]),(0,n.bo)((0,n.Lk)("div",null,[(0,n.Lk)("div",null,[(0,n.Lk)("div",null,[(0,n.Lk)("label",{class:"sb-20-black pb-4",innerHTML:(0,t.R1)(a)("when.estabas")},null,8,U),(0,n.Lk)("ul",Q,[(0,n.Lk)("li",K,[(0,n.Lk)("div",T,[l[10]||(l[10]=(0,n.Lk)("input",{id:"plan-m",class:"form-check-input",type:"radio",name:"plan",value:"1","aria-label":"..."},null,-1)),(0,n.Lk)("label",{for:"plan-m",class:"form-check-label",innerHTML:(0,t.R1)(a)("when.act1")},null,8,X)])]),(0,n.Lk)("li",x,[(0,n.Lk)("div",N,[l[11]||(l[11]=(0,n.Lk)("input",{id:"plan-s",class:"form-check-input",type:"radio",name:"plan",value:"2","aria-label":"..."},null,-1)),(0,n.Lk)("label",{for:"plan-s",class:"form-check-label",innerHTML:(0,t.R1)(a)("when.act2")},null,8,M)])]),(0,n.Lk)("li",V,[(0,n.Lk)("div",D,[l[12]||(l[12]=(0,n.Lk)("input",{id:"plan-a",class:"form-check-input",type:"radio",name:"plan",value:"3","aria-label":"..."},null,-1)),(0,n.Lk)("label",{for:"plan-a",class:"form-check-label",innerHTML:(0,t.R1)(a)("when.act3")},null,8,O)])]),(0,n.Lk)("li",Y,[(0,n.Lk)("div",H,[l[13]||(l[13]=(0,n.Lk)("input",{id:"plan-4",class:"form-check-input",type:"radio",name:"plan",value:"4","aria-label":"..."},null,-1)),(0,n.Lk)("label",{for:"plan-4",class:"form-check-label",innerHTML:(0,t.R1)(a)("when.act4")},null,8,J)])]),(0,n.Lk)("li",I,[(0,n.Lk)("div",F,[l[14]||(l[14]=(0,n.Lk)("input",{id:"plan-5",class:"form-check-input",type:"radio",name:"plan",value:"5","aria-label":"..."},null,-1)),(0,n.Lk)("label",{for:"plan-5",class:"form-check-label",innerHTML:(0,t.R1)(a)("when.act5")},null,8,j)])])]),(0,n.Lk)("div",G,[(0,n.Lk)("div",q,[(0,n.Lk)("button",{type:"button",class:"btn-gray-white",onClick:l[2]||(l[2]=e=>Qe()),innerHTML:(0,t.R1)(a)("homeplay.omitir")},null,8,P)]),(0,n.Lk)("div",W,[(0,n.Lk)("button",{type:"button",class:"btn-black border-0",onClick:l[3]||(l[3]=e=>va()),innerHTML:(0,t.R1)(a)("homeplay.guardar")},null,8,z)])])])])],512),[[A.aG,ue.value]]),l[19]||(l[19]=(0,n.Lk)("br",null,null,-1)),l[20]||(l[20]=(0,n.Lk)("br",null,null,-1)),0===r.value.length?((0,n.uX)(),(0,n.CE)("div",Z,l[15]||(l[15]=[(0,n.Lk)("p",{class:"b-18-gray"},"No tienes pistas en tu audioteca",-1)]))):((0,n.uX)(),(0,n.CE)("div",{key:1,class:"lista",ref_key:"listRef",ref:_e},[(0,n.bF)(A.F,{name:"list",tag:"div"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.value,((e,a)=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:(0,o.C4)(["lisongs b-16-gray btn-group",{"is-source":ea.value&&a===Ae.value}]),role:"group",onTouchstart:e=>ia(a,e),onTouchmove:l[5]||(l[5]=(0,A.D$)((e=>ra(e)),["prevent"])),onTouchend:ca,onTouchcancel:ca},[(0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("canvas",{ref_for:!0,ref:e=>$e(e,a),width:"40",height:"25",class:"mini-visualizer px-1"},null,512),[[A.aG,a===Ae.value&&ie.value]]),(0,n.bo)((0,n.Lk)("button",{style:{width:"48px"},class:"btn-audio",onClick:(0,A.D$)((e=>je(a)),["stop"])},l[16]||(l[16]=[(0,n.Lk)("img",{src:v,width:"12",class:"m-auto"},null,-1)]),8,_),[[A.aG,a!=Ae.value]])]),(0,n.Lk)("span",ee,[Ie.value!==a?((0,n.uX)(),(0,n.CE)("label",ae,(0,o.v_)(e.name),1)):(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:1,"onUpdate:modelValue":l[4]||(l[4]=e=>Fe.value=e),onKeyup:(0,A.jR)((e=>We(a)),["enter"]),onBlur:e=>We(a)},null,40,le)),[[A.Jo,Fe.value]])]),(0,n.Lk)("button",{class:"btn-audio",onClick:(0,A.D$)((e=>Pe(a)),["stop"])},l[17]||(l[17]=[(0,n.Lk)("img",{src:d,class:"m-auto"},null,-1)]),8,ne),(0,n.Lk)("button",{class:"btn-audio",onClick:(0,A.D$)((e=>Ge(a)),["stop"])},l[18]||(l[18]=[(0,n.Lk)("img",{src:p,class:"m-auto"},null,-1)]),8,te)],42,$)))),128))])),_:1})],512)),ea.value?((0,n.uX)(),(0,n.CE)("div",{key:2,class:"floating",style:(0,o.Tr)(ua.value)},(0,o.v_)(la.value),5)):(0,n.Q3)("",!0),l[21]||(l[21]=(0,n.Lk)("br",null,null,-1)),l[22]||(l[22]=(0,n.Lk)("br",null,null,-1)),l[23]||(l[23]=(0,n.Lk)("br",null,null,-1))],64))}},Ae=l(1241);const ue=(0,Ae.A)(oe,[["__scopeId","data-v-559767be"]]);var ie=ue},3793:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFySURBVHgBvZVfToNAEMaHLX3vEXoD6wnUG2DaprwZT2A9gXiC1hO0jxBIiieQG4g34Ah955/fKCQVgd1tQr9ks5tmJr+dna+DQRpaLBYvhmGscXR833/ri53P5w9CiG1ZlokgRS2Xyx0ADo4TLEsS+wTAnmORMzNJIsuyJqZpfuA4IwWh2g229elvvRDbtqd5njNgSgqXGY/HO2qpshOyWq2uAAhVAHyZLMsO1FFta0+4aUVRRKoArpbfvivmH4QdVDeNJEKDbwD4lF3GaAA2lUVlirD4KbcKsb+QykEHAG5pABk6DjpXYmjAD4QuIDEaje6wJzSghOu6SQWKNfKOGrHnWxjTNaoGplR/ehIEwTOSHZVExL4ilueUtCrRlkyNKdoDesdTX5Okp63u4g8SRsuMFAxx0tNEC8LyPO9L1XkMStOUKwq1II1bSp0XhuERL3Df1lPpn5FBSOZb7klBlSEcLUgtgB7rZOyxAoidl2DF38DaoYjW7vgQAAAAAElFTkSuQmCC"},6307:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAYAAAA1vze2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF4SURBVHgBtVZNboJAGB0G3XuDutZF7QmqN6BG47Y9Qe0JSk9QewO7NALlBqUnqG5IuqM3YM9f30ewIQrORwwvIRPgvXnzvvmYoM9ms8/hcGgOBoPA9/0fcQbgPoPrgSvA/RJMSE3Txhj7GF2aRMEnrgDXBPdVcE3KN4VYZXTgLsH9nk6nVyqurBCb8/n8wzCMnkoM7kjXdU9lJGueG91ul7VKoE9Gi8XiuqnJv5hrlKbpDhV4bGqSi6WUJL4VPKyq9lRlQnWnvfHqVlnBP+k8DeJM8BHiUjYEIcsyL47jO9d1w6YmTREkSTJWlutC5M3TtkmOtk1aL5cXRdGN4zi/nQaiJTrGKA5UFdbb7fbhcMNJEmLyCURvDC61rlk2IKiS5DWlyIIBHC33tm2/Hz/vnFnRDiKDaRDi+Bkjwb7qZV25XHytE6YBpR1tNpt9HeEkCRKsLMt6Egxw08ojkck1ANbctJQkwNXDipZVm1YG/QdgGBVpXwQTfx/Ot7/cIWN2AAAAAElFTkSuQmCC"},8710:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAkCAYAAABmMXGeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEGSURBVHgBrda9DYMwEAVgGy/ABqGmywYZASHo2SAjxBtkE5QRaLMANdkgPQLnXBAp4cd353uShbClT658TytIXddX+FhYqXOum+e5adv2pZjRVVXdtNb2b3+YpunChRMAm439zBjTlWV5UhzUAztnbDgJnLPgEMqCMSgZxqIkmIKiYSqKgjloEOaih3AMugvHopuwBLqCNTx7TsllGMfxLHXTJf7Gd2lUwVNaiKM+4iiMo4c0OgBqJdHvXJNCfwalBLqavLHo5iiPQXe7ARc9LBscNNheqCiqDlFQdL/CoqTChkHJDTCEsiqlR9+S4IJaSdDH9H3/zPPcv9gZ/KewOgCLmHr+ASNPrT9O4uv8AAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=696.52213606.js.map