{"version":3,"file":"js/753.226d7a73.js","mappings":"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","sources":["webpack://angerpulse/./src/config/api.js","webpack://angerpulse/./src/components/AngerAudioteca.vue","webpack://angerpulse/./src/components/AngerAudioteca.vue?29e0"],"sourcesContent":["//export const API_BASE_URL = \"https://localhost:5274\"\r\nexport const API_BASE_URL = \"https://marcoracm-002-site1.mtempurl.com\"","<template>\r\n    <div v-show=\"!moment\">\r\n        <label class=\"b-24-black\" @click=\"updateShow\" v-html=\"t('audioteca.title')\"></label>\r\n        <br>\r\n\r\n        <div class=\"audio-player\" v-if=\"songs.length > 0\">\r\n            <canvas ref=\"canvasRef\" width=\"256\" height=\"70\" class=\"visualizer\"></canvas>\r\n\r\n            <div class=\"song-info\">\r\n                <h3>{{ currentSongName }}</h3>\r\n                <div class=\"time\">\r\n                    {{ formatTime(currentTime) }} / {{ formatTime(duration) }}\r\n                </div>\r\n                <input type=\"range\" min=\"0\" :max=\"duration\" v-model=\"currentTime\" @input=\"seekAudio\" />\r\n            </div>\r\n            <div class=\"d-flex pb-5 pt-2\">\r\n                <img src=\"../assets/Atras.png\" class=\"m-auto\" @click=\"prevTrack\">\r\n                <img :src=\"isPlaying ? pauseIcon : playIcon\" style=\"height: 100%; width: fit-content; margin: auto;\"\r\n                    @click=\"togglePlay\">\r\n                <img src=\"../assets/Siguiente.png\" class=\"m-auto\" @click=\"nextTrack\">\r\n                <button @click=\"toggleShuffle\" :class=\"{ active: isShuffle }\" class=\"shuffle-button m-auto\">\r\n                    <img v-show=\"!isShuffle\" src=\"../assets/Aleatorio-dis.png\" class=\"m-auto\" width=\"35\">\r\n                    <img v-show=\"isShuffle\" src=\"../assets/Aleatorio-ava.png\" class=\"m-auto\" width=\"35\">\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div class=\"fullblack py-1\">\r\n            <p class=\"sb-20-white text-start\" v-html=\"t('audioteca.audioejercicios')\">\r\n\r\n            </p>\r\n            <div style=\"position: absolute; right: 20px; margin-top: -20px;\">\r\n                <img src=\"../assets/heart.png\" class=\"m-auto\">\r\n            </div>\r\n        </div>\r\n        <br>\r\n    </div>\r\n\r\n    <div v-show=\"moment\">\r\n        <div>\r\n            <div>\r\n                <label class=\"sb-20-black pb-4\" v-html=\"t('when.estabas')\"></label>\r\n                <ul class=\"ps-0\">\r\n                    <li class=\"list-group-item text-start r-16-gray py-2\">\r\n                        <div class=\"ps-5 form-check\">\r\n                            <input id=\"plan-m\" class=\"form-check-input\" type=\"radio\" name=\"plan\" value=\"1\"\r\n                                aria-label=\"...\">\r\n                            <label for=\"plan-m\" class=\"form-check-label\" v-html=\"t('when.act1')\"></label>\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"list-group-item text-start r-16-gray py-2\">\r\n                        <div class=\"ps-5 form-check\">\r\n                            <input id=\"plan-s\" class=\"form-check-input\" type=\"radio\" name=\"plan\" value=\"2\"\r\n                                aria-label=\"...\">\r\n                            <label for=\"plan-s\" class=\"form-check-label\" v-html=\"t('when.act2')\">\r\n                            </label>\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"list-group-item text-start r-16-gray py-2\">\r\n                        <div class=\"ps-5 form-check\">\r\n                            <input id=\"plan-a\" class=\"form-check-input\" type=\"radio\" name=\"plan\" value=\"3\"\r\n                                aria-label=\"...\">\r\n                            <label for=\"plan-a\" class=\"form-check-label\" v-html=\"t('when.act3')\"></label>\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"list-group-item text-start r-16-gray py-2\">\r\n                        <div class=\"ps-5 form-check\">\r\n                            <input id=\"plan-4\" class=\"form-check-input\" type=\"radio\" name=\"plan\" value=\"4\"\r\n                                aria-label=\"...\">\r\n                            <label for=\"plan-4\" class=\"form-check-label\" v-html=\"t('when.act4')\"></label>\r\n                        </div>\r\n                    </li>\r\n                    <li class=\"list-group-item text-start r-16-gray py-2\">\r\n                        <div class=\"ps-5 form-check\">\r\n                            <input id=\"plan-5\" class=\"form-check-input\" type=\"radio\" name=\"plan\" value=\"5\"\r\n                                aria-label=\"...\">\r\n                            <label for=\"plan-5\" class=\"form-check-label\" v-html=\"t('when.act5')\"></label>\r\n                        </div>\r\n                    </li>\r\n\r\n                </ul>\r\n                <div class=\"d-flex justify-content-center pt-3 pb-5\">\r\n                    <div class=\"px-3\">\r\n                        <button type=\"button\" class=\"btn-gray-white\" @click=\"CloseMoment()\"\r\n                            v-html=\"t('homeplay.omitir')\">\r\n\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"px-3\">\r\n                        <button type=\"button\" class=\"btn-black border-0\" @click=\"SetMoment()\"\r\n                            v-html=\"t('homeplay.guardar')\">\r\n\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <br><br>\r\n\r\n    <div v-if=\"songs.length === 0\" class=\"text-center py-5\">\r\n        <p class=\"b-18-gray\">No tienes pistas en tu audioteca</p>\r\n    </div>\r\n    <div v-else class=\"lista\" ref=\"listRef\">\r\n        <transition-group name=\"list\" tag=\"div\">\r\n            <div v-for=\"(song, index) in songs\" :key=\"song.id\" class=\"lisongs b-16-gray btn-group\"\r\n                :class=\"{ 'is-source': isDragging && index === currentIndex }\" role=\"group\"\r\n                @touchstart=\"startTouch(index, $event)\" @touchmove.prevent=\"onDrag($event)\" @touchend=\"endDrag\"\r\n                @touchcancel=\"endDrag\">\r\n                <div>\r\n                    <canvas v-show=\"index === currentIndex && isPlaying\" :ref=\"el => setMiniCanvasRef(el, index)\"\r\n                        width=\"40\" height=\"25\" class=\"mini-visualizer px-1\">\r\n                    </canvas>\r\n\r\n                    <button style=\"width: 48px;\" v-show=\"index != currentIndex\" class=\"btn-audio\"\r\n                        @click.stop=\"playSong(index)\">\r\n                        <img src=\"../assets/Play.png\" width=\"12\" class=\"m-auto\">\r\n                    </button>\r\n                </div>\r\n\r\n                <span style=\"flex: 1; cursor: pointer; align-content: center; height: 4svh\"\r\n                    class=\"text-start span-audio\">\r\n                    <div v-if=\"editingIndex !== index\" disabled class=\"d-flex justify-content-between\">\r\n                        <label class=\"ps-3\">{{ song.name }} </label>\r\n                        <label class=\"pe-3 r-14-gray\">{{ formatTime(song.seg) }}</label>\r\n                    </div>\r\n                    <div v-else>\r\n                        <input v-model=\"editedName\" @keyup.enter=\"saveEdit(index)\" @blur=\"saveEdit(index)\" />\r\n                    </div>\r\n                </span>\r\n\r\n                <button class=\"btn-audio\" @click.stop=\"editSong(index)\">\r\n                    <img src=\"../assets/Edit.png\" class=\"m-auto\">\r\n                </button>\r\n                <button class=\"btn-audio\" @click.stop=\"removeSong(index)\">\r\n                    <img src=\"../assets/Delete-song.png\" class=\"m-auto\">\r\n                </button>\r\n            </div>\r\n        </transition-group>\r\n    </div>\r\n\r\n    <div v-if=\"isDragging\" class=\"floating\" :style=\"floatingStyle\">\r\n        {{ dragText }}\r\n    </div>\r\n    <br><br><br>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onBeforeUnmount, computed } from 'vue'\r\nimport { useI18n } from 'vue-i18n'\r\nimport { API_BASE_URL } from '@/config/api'\r\n\r\nconst { t } = useI18n()\r\n\r\nconst songs = ref([])\r\n\r\nconst playIcon = new URL('@/assets/Play.png', import.meta.url).href\r\nconst pauseIcon = new URL('@/assets/Pausa.png', import.meta.url).href\r\n\r\nconst currentIndex = ref(0)\r\nconst moment = ref(false)\r\n\r\nconst isPlaying = ref(false)\r\nconst isShuffle = ref(true)\r\nconst currentTime = ref(0)\r\nconst duration = ref(0)\r\n// const audio = new Audio()\r\nconst audio = document.createElement('audio')\r\naudio.preload = 'auto'\r\naudio.playsInline = true\r\naudio.setAttribute('playsinline', '')\r\naudio.setAttribute('webkit-playsinline', '')\r\naudio.crossOrigin = 'anonymous' // opcional si hay CORS\r\naudio.muted = false\r\naudio.volume = 1\r\nconst idPlay = ref(0)\r\nconst durationSong = ref(0)\r\n\r\n\r\nconst countPause = ref(0)\r\n\r\nconst hasShownMessage = ref(false)\r\nlet playbackInterval = null\r\nconst playbackSeconds = ref(0)\r\n\r\nconst canvasRef = ref(null)\r\nlet audioContext, analyser, dataArray, source, animationId\r\nlet shuffledIndices = []\r\n\r\nconst currentSongName = computed(() => songs.value[currentIndex.value]?.name || '')\r\n\r\nfunction setupVisualizer() {\r\n    if (!audio) return\r\n    if (!audioContext) {\r\n        audioContext = new (window.AudioContext || window.webkitAudioContext)()\r\n    }\r\n\r\n    if (!source) {\r\n        try {\r\n            source = audioContext.createMediaElementSource(audio)\r\n        } catch (e) {\r\n            console.warn('No se pudo crear MediaElementSource (quiz谩 ya existe):', e)\r\n        }\r\n    }\r\n\r\n    if (!analyser) {\r\n        analyser = audioContext.createAnalyser()\r\n        analyser.fftSize = 256\r\n        const bufferLength = analyser.frequencyBinCount\r\n        dataArray = new Uint8Array(bufferLength)\r\n    }\r\n\r\n    // conectar si no conectado\r\n    try {\r\n        if (source && analyser) {\r\n            source.connect(analyser)\r\n            analyser.connect(audioContext.destination)\r\n        }\r\n    } catch (e) {\r\n        console.warn('Error al conectar audio nodes:', e)\r\n    }\r\n\r\n    drawVisualizer()\r\n\r\n    // En iOS el context inicia suspendido; reanuda con el primer touch/click.\r\n    if (audioContext.state === 'suspended') {\r\n        const resume = async () => {\r\n            try {\r\n                await audioContext.resume()\r\n            } catch (err) {\r\n                console.warn('Error resuming audioContext:', err)\r\n            } finally {\r\n                document.removeEventListener('touchstart', resume)\r\n                document.removeEventListener('click', resume)\r\n            }\r\n        }\r\n        document.addEventListener('touchstart', resume, { once: true })\r\n        document.addEventListener('click', resume, { once: true })\r\n    }\r\n}\r\n\r\nfunction drawVisualizer() {\r\n    const mainCanvas = canvasRef.value\r\n    const mainCtx = mainCanvas.getContext('2d')\r\n    const width = mainCanvas.width\r\n    const height = mainCanvas.height\r\n    const centerY = height / 2\r\n\r\n    function draw() {\r\n        animationId = requestAnimationFrame(draw)\r\n        analyser.getByteFrequencyData(dataArray)\r\n\r\n        // Canvas principal\r\n        mainCtx.clearRect(0, 0, width, height)\r\n        const barWidth = width / dataArray.length\r\n        let x = 0\r\n        for (let i = 0; i < dataArray.length; i++) {\r\n            const value = dataArray[i]\r\n            const barHeight = value / 2\r\n            const gradient = mainCtx.createLinearGradient(0, centerY - barHeight, 0, centerY + barHeight)\r\n            gradient.addColorStop(0, '#00f')\r\n            gradient.addColorStop(1, '#0ff')\r\n            mainCtx.fillStyle = gradient\r\n            mainCtx.fillRect(x, centerY - barHeight, barWidth, barHeight)\r\n            mainCtx.fillRect(x, centerY, barWidth, barHeight)\r\n            x += barWidth + 1\r\n        }\r\n\r\n        // Mini visualizador (solo para la canci贸n actual)\r\n        const miniCanvas = miniCanvasRefs.value[currentIndex.value]\r\n        if (miniCanvas) {\r\n            const miniCtx = miniCanvas.getContext('2d')\r\n            miniCtx.clearRect(0, 0, miniCanvas.width, miniCanvas.height)\r\n            const miniBarWidth = miniCanvas.width / dataArray.length\r\n            let mx = 0\r\n            for (let i = 0; i < dataArray.length; i++) {\r\n                const value = dataArray[i]\r\n                const barHeight = value / 3\r\n                miniCtx.fillStyle = '#0af'\r\n                miniCtx.fillRect(mx, miniCanvas.height - barHeight, miniBarWidth, barHeight)\r\n                mx += miniBarWidth + 1\r\n            }\r\n        }\r\n    }\r\n\r\n    draw()\r\n}\r\n\r\nfunction shuffleArray(length) {\r\n    const indices = [...Array(length).keys()]\r\n    for (let i = indices.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1))\r\n            ;[indices[i], indices[j]] = [indices[j], indices[i]]\r\n    }\r\n    return indices\r\n}\r\nfunction CloseMoment() {\r\n    moment.value = false\r\n}\r\n\r\n\r\nfunction loadTrack(index) {\r\n    const song = songs.value[index]\r\n    if (!song) return\r\n    audio.src = song.url\r\n    durationSong.value = 0\r\n    audio.load()\r\n    audio.muted = false\r\n    audio.volume = 1\r\n    stopPlaybackTimer()\r\n    // si quieres reproducir inmediatamente SOLO si isPlaying est谩 true\r\n    if (isPlaying.value) {\r\n        // Asegura que el audioContext est茅 activo antes de play\r\n        if (audioContext && audioContext.state === 'suspended') {\r\n            audioContext.resume().catch(e => console.warn('resume fall贸', e))\r\n        }\r\n        audio.play().then(() => {\r\n            isPlaying.value = true\r\n            startPlaybackTimer()\r\n        }).catch(err => {\r\n            console.warn('iOS puede haber bloqueado la reproducci贸n:', err)\r\n        })\r\n    } else {\r\n        isPlaying.value = false\r\n    }\r\n}\r\n\r\nasync function togglePlay() {\r\n    try {\r\n        if (audioContext && audioContext.state === 'suspended') {\r\n            await audioContext.resume()\r\n        }\r\n    } catch (err) {\r\n        console.warn('No se pudo reanudar audioContext:', err)\r\n    }\r\n\r\n    if (audio.paused) {\r\n        try {\r\n            // aseg煤rate el elemento no est茅 mute y volumen ok\r\n            audio.muted = false\r\n            audio.volume = 1\r\n            await audio.play()\r\n            isPlaying.value = true\r\n            startPlaybackTimer()\r\n        } catch (err) {\r\n            console.warn('Error al play (iOS puede bloquear):', err)\r\n        }\r\n    } else {\r\n        SetPlay(1)\r\n        audio.pause()\r\n        isPlaying.value = false\r\n        stopPlaybackTimer()\r\n        countPause.value++;\r\n        if (!hasShownMomentThisSession() && (playbackSeconds.value >= 10 | (playbackSeconds.value >= 9 && countPause.value > 1))) {\r\n            moment.value = true;\r\n            playbackSeconds.value = 0;\r\n            hasShownMessage.value = true\r\n            markMomentAsShown()\r\n            countPause.value = 0\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction startPlaybackTimer() {\r\n    if (playbackInterval) return // Evita m煤ltiples intervalos\r\n\r\n    playbackInterval = setInterval(() => {\r\n        playbackSeconds.value++\r\n        durationSong.value++\r\n    }, 1000)\r\n}\r\n\r\nfunction stopPlaybackTimer() {\r\n    clearInterval(playbackInterval)\r\n    playbackInterval = null\r\n}\r\n\r\nfunction nextTrack() {\r\n    SetPlay(0)\r\n    if (isShuffle.value) {\r\n        if (shuffledIndices.length === 0) {\r\n            shuffledIndices = shuffleArray(songs.value.length)\r\n        }\r\n        currentIndex.value = shuffledIndices.shift()\r\n    } else {\r\n        currentIndex.value = (currentIndex.value + 1) % songs.value.length\r\n    }\r\n    isPlaying.value = true\r\n    loadTrack(currentIndex.value)\r\n}\r\n\r\nfunction prevTrack() {\r\n    SetPlay(0)\r\n    if (isShuffle.value) {\r\n        if (shuffledIndices.length === 0) {\r\n            shuffledIndices = shuffleArray(songs.value.length)\r\n        }\r\n        currentIndex.value = shuffledIndices.shift()\r\n    } else {\r\n        currentIndex.value = (currentIndex.value - 1 + songs.value.length) % songs.value.length\r\n    }\r\n    isPlaying.value = true\r\n    loadTrack(currentIndex.value)\r\n}\r\n\r\nfunction toggleShuffle() {\r\n    isShuffle.value = !isShuffle.value\r\n\r\n    if (isShuffle.value) {\r\n        shuffledIndices = shuffleArray(songs.value.length)\r\n        // Evita repetir la canci贸n actual\r\n        shuffledIndices = shuffledIndices.filter(i => i !== currentIndex.value)\r\n    } else {\r\n        shuffledIndices = []\r\n    }\r\n}\r\n\r\nfunction seekAudio() {\r\n    audio.currentTime = currentTime.value\r\n}\r\n\r\naudio.addEventListener('timeupdate', () => {\r\n    currentTime.value = audio.currentTime\r\n    duration.value = audio.duration || 0\r\n})\r\n\r\naudio.addEventListener('ended', () => {\r\n    nextTrack()\r\n})\r\n\r\nfunction formatTime(time) {\r\n    const minutes = Math.floor(time / 60)\r\n    const seconds = Math.floor(time % 60).toString().padStart(2, '0')\r\n    return `${minutes}:${seconds}`\r\n}\r\n\r\n// const audios = ref([]);\r\nfunction limpiarNombre(nombre) {\r\n    return nombre.replace(/\\.[^.]+(?=\\.\\w+$)/, '') // quita hash intermedio\r\n}\r\n\r\nasync function GetAudios() {\r\n    try {\r\n        const sesion = localStorage.getItem(\"token\")\r\n        if (!sesion) return\r\n        const response = await fetch(`${API_BASE_URL}/api/audioteca/GetAudioteca`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ username: sesion })\r\n        })\r\n\r\n        if (!response.ok) throw new Error(\"Error en la petici贸n\")\r\n\r\n        const data = await response.json()\r\n\r\n        if (data.data != \"\") {\r\n            const dataAudios = Array.isArray(JSON.parse(data.data)) ? JSON.parse(data.data) : data.data\r\n            if (!Array.isArray(dataAudios)) throw new Error(\"dataAudios no es un array\")\r\n\r\n\r\n            const arr = dataAudios.map(item => {\r\n                const limpio = limpiarNombre(item.NombreAudio)\r\n                return {\r\n                    id: item.Id_Audioteca,\r\n                    url: `/audios/${limpio}`,\r\n                    nombre: item.Nombre,\r\n                    segundos: item.Segundos\r\n                }\r\n            })\r\n\r\n            songs.value = arr.map(item => ({\r\n                id: item.id,\r\n                name: item.nombre,\r\n                url: item.url,\r\n                seg: item.segundos\r\n            }))\r\n            // audios.value = arr\r\n\r\n            // Cargar primer track solo despu茅s de tener audios\r\n            if (songs.value.length > 0) {\r\n                loadTrack(0)\r\n            }\r\n        }\r\n        else {\r\n            songs.value = [];\r\n            return;\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error(\"Error al cargar audios:\", error)\r\n    }\r\n}\r\n\r\nasync function initAudioPlayer() {\r\n    await GetAudios() // carga los audios primero\r\n    if (songs.value.length === 0) return\r\n\r\n    loadTrack(0)\r\n    setupVisualizer()\r\n}\r\n\r\nonMounted(() => {\r\n    initAudioPlayer()\r\n    // GetAudios()\r\n    // setupVisualizer()\r\n    // loadTrack(currentIndex.value)\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n    cancelAnimationFrame(animationId)\r\n    audio.pause()\r\n    audio.src = ''\r\n    if (audioContext) audioContext.close()\r\n})\r\n\r\n\r\n\r\nconst editingIndex = ref(null)\r\nconst editedName = ref('')\r\n\r\nfunction playSong(index) {\r\n    isPlaying.value = true\r\n    currentIndex.value = index\r\n    loadTrack(index)\r\n    startPlaybackTimer()\r\n    isPlaying.value = true\r\n}\r\n\r\nfunction removeSong(index) {\r\n    const songToDelete = songs.value[index]\r\n\r\n    const isCurrent = currentIndex.value === index\r\n    if (isCurrent) {\r\n        audio.pause()\r\n        isPlaying.value = false\r\n        stopPlaybackTimer()\r\n    }\r\n\r\n    // if (currentIndex.value === index) {\r\n    //     audio.pause()\r\n    // }\r\n    // Ajustamos currentIndex si es necesario\r\n    if (songs.value.length === 0) {\r\n        // No quedan canciones\r\n        currentIndex.value = 0\r\n        audio.src = ''\r\n        return\r\n    }\r\n    if (currentIndex.value > index) {\r\n        // Si la canci贸n eliminada estaba antes de la actual, decrementamos el 铆ndice\r\n        currentIndex.value -= 1\r\n    } else if (currentIndex.value === index) {\r\n        // Si eliminamos la canci贸n actual, cargamos la siguiente disponible\r\n        if (currentIndex.value >= songs.value.length) {\r\n            currentIndex.value = 0\r\n        }\r\n    }\r\n\r\n    // Llamamos a la API para eliminar favorito\r\n    DeleteFavorite(songToDelete.id)\r\n    // Si queda alguna canci贸n, la cargamos y reproducimos\r\n    if (songs.value.length > 0) {\r\n        loadTrack(currentIndex.value)\r\n        isPlaying.value = true\r\n        startPlaybackTimer()\r\n    }\r\n    songs.value.splice(index, 1)\r\n    if (currentIndex.value >= songs.value.length) {\r\n        currentIndex.value = 0\r\n    }\r\n    // DeleteFavorite()\r\n    // loadTrack(currentIndex.value)\r\n}\r\n\r\nasync function DeleteFavorite(audiotecaId) {\r\n    try {\r\n        const sesion = localStorage.getItem(\"token\")\r\n        if (!sesion) return\r\n        // const currentAudio = songs.value[currentIndex.value]\r\n\r\n        const response = await fetch(`${API_BASE_URL}/api/audioteca/SetAudiotecaEstatus`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ audioteca: audiotecaId + '' })\r\n        })\r\n\r\n        if (!response.ok) throw new Error(\"Error en la petici贸n\")\r\n\r\n    } catch (error) {\r\n        console.error(\"Error al cargar audios:\", error)\r\n    }\r\n}\r\n\r\n\r\nfunction editSong(index) {\r\n    editingIndex.value = index\r\n    editedName.value = songs.value[index].name\r\n}\r\n\r\nasync function saveEdit(index) {\r\n    const newName = editedName.value.trim()\r\n    if (!newName) {\r\n        editingIndex.value = null\r\n        return\r\n    }\r\n\r\n    // Actualizamos el nombre localmente\r\n    songs.value[index].name = newName\r\n\r\n    // Llamamos a la API para actualizar el nombre en el backend\r\n    try {\r\n        await ChangeName(songs.value[index].id, newName)\r\n    } catch (error) {\r\n        console.error(\"Error al cambiar el nombre en el servidor:\", error)\r\n        // Opcional: revertir el cambio local si falla la API\r\n        // songs.value[index].name = originalName\r\n    }\r\n\r\n    editingIndex.value = null\r\n\r\n    // if (editedName.value.trim()) {\r\n    //     songs.value[index].name = editedName.value.trim()\r\n    // }\r\n    // editingIndex.value = null\r\n}\r\n\r\nasync function ChangeName(audiotecaId, nameAudio) {\r\n    try {\r\n\r\n        const response = await fetch(`${API_BASE_URL}/api/audioteca/SetAudiotecaName`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ idaudioteca: audiotecaId + '', name: nameAudio })\r\n        })\r\n\r\n        if (!response.ok) throw new Error(\"Error en la petici贸n\")\r\n\r\n    } catch (error) {\r\n        console.error(\"Error al cargar audios:\", error)\r\n    }\r\n}\r\n\r\nconst miniCanvasRefs = ref({})\r\n// const canvasRefs = ref([])\r\nfunction setMiniCanvasRef(el, index) {\r\n    if (el) miniCanvasRefs.value[index] = el\r\n    //***** */\r\n    //else delete miniCanvasRefs.value[index]\r\n}\r\n\r\n\r\n\r\nconst listRef = ref(null)\r\n\r\n// Drag & touch\r\nconst isDragging = ref(false)\r\nconst readyIndex = ref(null)\r\nconst dragText = ref(\"\")\r\nconst fingerOffsetY = ref(0)\r\nconst floatY = ref(0)\r\nconst containerRect = ref({ top: 0, bottom: 0, left: 0, width: 0 })\r\n\r\nlet touchTimer = null // temporizador para delay de drag\r\n\r\nconst floatingStyle = computed(() => ({\r\n    position: \"fixed\",\r\n    top: `${Math.min(Math.max(floatY.value - fingerOffsetY.value, containerRect.value.top),\r\n        containerRect.value.bottom - 1)}px`,\r\n    left: `${containerRect.value.left}px`,\r\n    width: `${containerRect.value.width}px`,\r\n    zIndex: 9999,\r\n    pointerEvents: \"none\"\r\n}))\r\n\r\nfunction startTouch(index, e) {\r\n    // Guardamos info para el posible drag\r\n    const t = e.touches[0]\r\n    const el = e.currentTarget\r\n    const itemRect = el.getBoundingClientRect()\r\n    const listBox = listRef.value.getBoundingClientRect()\r\n    containerRect.value = {\r\n        top: listBox.top,\r\n        bottom: listBox.bottom,\r\n        left: listBox.left,\r\n        width: listBox.width\r\n    }\r\n\r\n    fingerOffsetY.value = t.clientY - itemRect.top\r\n    floatY.value = t.clientY\r\n\r\n    // Iniciamos temporizador de 2s para drag\r\n    touchTimer = setTimeout(() => {\r\n        isDragging.value = true\r\n        currentIndex.value = index\r\n        dragText.value = songs.value[index].name\r\n    }, 500)\r\n}\r\n\r\nfunction onDrag(e) {\r\n    if (!isDragging.value)\r\n        return\r\n\r\n    const t = e.touches[0]\r\n    floatY.value = t.clientY\r\n\r\n    const targetIndex = indexFromY(t.clientY)\r\n    if (targetIndex == null || targetIndex === currentIndex.value) return\r\n\r\n    const arr = songs.value\r\n    const moved = arr.splice(currentIndex.value, 1)[0]\r\n    arr.splice(targetIndex, 0, moved)\r\n    currentIndex.value = targetIndex\r\n}\r\n// const canvasRefs = ref([])\r\n\r\nfunction endDrag() {\r\n    clearTimeout(touchTimer)\r\n    if (!isDragging.value) return\r\n\r\n    // Guardamos el 铆ndice del item que se solt贸\r\n    const releasedIndex = currentIndex.value\r\n\r\n    // Reset de estado drag\r\n    isDragging.value = false\r\n    currentIndex.value = null\r\n    dragText.value = \"\"\r\n    readyIndex.value = null\r\n    document.querySelectorAll('.lisongs').forEach(item => item.classList.remove('is-ready'))\r\n\r\n    isPlaying.value = true\r\n    currentIndex.value = releasedIndex\r\n    // loadTrack(index)\r\n    startPlaybackTimer()\r\n    isPlaying.value = true\r\n}\r\n\r\n\r\nfunction indexFromY(y) {\r\n    const container = listRef.value\r\n    if (!container) return null\r\n    const children = Array.from(container.querySelectorAll(\".lisongs\"))\r\n    if (!children.length) return null\r\n    for (let i = 0; i < children.length; i++) {\r\n        const r = children[i].getBoundingClientRect()\r\n        const mid = r.top + r.height / 2\r\n        if (y < mid) return i\r\n    }\r\n    return children.length - 1\r\n}\r\n\r\nasync function SetMoment() {\r\n    try {\r\n        const sesion = localStorage.getItem(\"token\")\r\n        if (!sesion) return\r\n        // const currentAudio = songs.value[currentIndex.value]\r\n\r\n        const response = await fetch(`${API_BASE_URL}/api/config/SetMoment`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            //body: JSON.stringify({idMomento: document.querySelector('input[name=\"plan\"]:checked').value, idUser: sesion, idAudio: currentAudio.id + ''  })\r\n            body: JSON.stringify({ idMomento: document.querySelector('input[name=\"plan\"]:checked').value, idUser: sesion, idAudio: idPlay.value })\r\n        })\r\n        moment.value = false\r\n        if (!response.ok) throw new Error(\"Error en la petici贸n\")\r\n\r\n    } catch (error) {\r\n        console.error(\"Error al cargar audios:\", error)\r\n        moment.value = false\r\n    }\r\n}\r\n\r\nasync function SetPlay(x) {\r\n    if (durationSong.value >= 10) {\r\n        try {\r\n            const sesion = localStorage.getItem(\"token\")\r\n            if (!sesion) return\r\n            const currentAudio = songs.value[currentIndex.value]\r\n\r\n            const response = await fetch(`${API_BASE_URL}/api/config/SetPlay`, {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ idReproduccion: idPlay.value, tiempo: durationSong.value, idUser: sesion, idAudio: currentAudio.id + '', home: false })\r\n            })\r\n            const data = await response.json()\r\n            if (!response.ok) throw new Error(\"Error en la petici贸n\")\r\n            else {\r\n                if (x == 0)\r\n                    idPlay.value = 0\r\n                else\r\n                    idPlay.value = data.data\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error al cargar audios:\", error)\r\n        }\r\n    }\r\n}\r\nconst MOMENT_SESSION_KEY = 'moment_popup_session'\r\n\r\nfunction getHalfHourSessionKey() {\r\n    const now = new Date()\r\n\r\n    const year = now.getFullYear()\r\n    const month = String(now.getMonth() + 1).padStart(2, '0')\r\n    const day = String(now.getDate()).padStart(2, '0')\r\n    const hour = String(now.getHours()).padStart(2, '0')\r\n\r\n    const minutes = now.getMinutes()\r\n\r\n    //  tu l贸gica especial\r\n    const block = minutes <= 30 ? '01-30' : '31-00'\r\n\r\n    return `${year}-${month}-${day}-${hour}-${block}`\r\n}\r\n\r\nfunction hasShownMomentThisSession() {\r\n    const currentSession = getHalfHourSessionKey()\r\n    return localStorage.getItem(MOMENT_SESSION_KEY) === currentSession\r\n}\r\n\r\nfunction markMomentAsShown() {\r\n    const currentSession = getHalfHourSessionKey()\r\n    localStorage.setItem(MOMENT_SESSION_KEY, currentSession)\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.audio-player {\r\n    text-align: center;\r\n    background: #fff;\r\n    padding: 1rem;\r\n    border-radius: 8px;\r\n    color: #555;\r\n}\r\n\r\n.visualizer {\r\n    display: block;\r\n    margin: 1rem auto;\r\n    background-color: white;\r\n}\r\n\r\n.song-info {\r\n    margin: 1rem 0;\r\n}\r\n\r\n.song-info h3 {\r\n    margin: 0;\r\n}\r\n\r\n.song-info .time {\r\n    font-size: 0.9rem;\r\n    margin-bottom: 0.5rem;\r\n}\r\n\r\n.song-info input[type=range] {\r\n    width: 100%;\r\n}\r\n\r\n.controls button {\r\n    background: none;\r\n    border: none;\r\n    margin: 0 1rem;\r\n    cursor: pointer;\r\n    color: white;\r\n}\r\n\r\n.controls img {\r\n    width: 40px;\r\n    height: 40px;\r\n}\r\n\r\n.controls .active {\r\n    color: lime;\r\n}\r\n\r\n.shuffle-button {\r\n    background: none;\r\n    border: none;\r\n    font-size: 1.5rem;\r\n    cursor: pointer;\r\n    color: #aaa;\r\n}\r\n\r\n.shuffle-button.active {\r\n    color: #0ff;\r\n}\r\n\r\n.mini-visualizer {\r\n    margin-top: 4px;\r\n    background-color: #fff;\r\n    display: block;\r\n}\r\n\r\n.song-item.active-song {\r\n    background-color: #e8f8ff;\r\n    border-left: 4px solid #0af;\r\n}\r\n\r\n.lisongs {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 0.5rem;\r\n    /* cursor: move; */\r\n    border: 1px solid #D6D6D6;\r\n    /* border-radius: 10px; */\r\n}\r\n\r\n.btn-audio {\r\n    border: none;\r\n    background-color: transparent;\r\n    border-left: 1px solid #D6D6D6;\r\n    padding: 7px 10px;\r\n}\r\n\r\n.span-audio {\r\n    background-color: #F4F4F4;\r\n    padding-top: 0px;\r\n    padding-bottom: 0px;\r\n    border-left: 1px solid #D6D6D6;\r\n}\r\n\r\n.span-audio>input {\r\n    border: none;\r\n    width: 100%;\r\n    padding-left: 10px;\r\n}\r\n\r\n.span-audio>input:focus {\r\n    border: none;\r\n    width: 100%;\r\n    padding-left: 10px;\r\n    outline: none;\r\n}\r\n\r\n.span-audio>label {\r\n    padding-top: 7px;\r\n    padding-bottom: 7px;\r\n    padding-left: 10px;\r\n}\r\n\r\n.svg {\r\n    transform: rotate(180deg);\r\n}\r\n\r\n.lista {\r\n    /* width: 320px;\r\n    margin: 20px auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px; */\r\n    touch-action: none;\r\n    /* clave en iOS para permitir touchmove continuo */\r\n    -webkit-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n/* .item {\r\n    padding: 14px 16px;\r\n    background: #f9f9f9;\r\n    border: 2px solid #ccc;\r\n    border-radius: 10px;\r\n    text-align: center;\r\n    font-size: 18px; \r\n} */\r\n\r\n/* Oculta el original pero mantiene el espacio para que no colapse el layout */\r\n.is-source {\r\n    visibility: hidden;\r\n}\r\n\r\n/* tem flotante que sigue el dedo */\r\n.floating {\r\n    background: #e3f2fd;\r\n    border: 2px solid #90caf9;\r\n    border-radius: 12px;\r\n    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.18);\r\n    padding: 14px 16px;\r\n}\r\n\r\n/* Animaci贸n de desplazamiento al reordenar */\r\n.list-move {\r\n    transition: transform 0.2s ease;\r\n}\r\n\r\n.floating {\r\n    background: #e3f2fd;\r\n    border: 2px solid #90caf9;\r\n    border-radius: 12px;\r\n    padding: 8px 12px;\r\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.18);\r\n    pointer-events: none;\r\n}\r\n\r\n/* tem seleccionado para drag (despu茅s del delay) */\r\n.is-ready {\r\n    transform: scale(1.05);\r\n    /* aumenta tama帽o ligeramente */\r\n    background-color: #d1eaff;\r\n    /* ilumina un poco */\r\n    border-color: #42a5f5;\r\n    /* opcional: borde m谩s fuerte */\r\n    transition: transform 0.2s, background-color 0.2s, border-color 0.2s;\r\n}\r\n</style>","import script from \"./AngerAudioteca.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AngerAudioteca.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AngerAudioteca.vue?vue&type=style&index=0&id=5a627b12&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5a627b12\"]])\n\nexport default __exports__"],"names":["API_BASE_URL","MOMENT_SESSION_KEY","t","useI18n","songs","ref","playIcon","URL","href","pauseIcon","currentIndex","moment","isPlaying","isShuffle","currentTime","duration","audio","document","createElement","preload","playsInline","setAttribute","crossOrigin","muted","volume","idPlay","durationSong","countPause","hasShownMessage","playbackInterval","playbackSeconds","canvasRef","audioContext","analyser","dataArray","source","animationId","shuffledIndices","currentSongName","computed","value","name","setupVisualizer","window","AudioContext","webkitAudioContext","createMediaElementSource","e","console","warn","createAnalyser","fftSize","bufferLength","frequencyBinCount","Uint8Array","connect","destination","drawVisualizer","state","resume","async","err","removeEventListener","addEventListener","once","mainCanvas","mainCtx","getContext","width","height","centerY","draw","requestAnimationFrame","getByteFrequencyData","clearRect","barWidth","length","x","i","barHeight","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","miniCanvas","miniCanvasRefs","miniCtx","miniBarWidth","mx","shuffleArray","indices","Array","keys","j","Math","floor","random","CloseMoment","loadTrack","index","song","src","url","load","stopPlaybackTimer","catch","play","then","startPlaybackTimer","togglePlay","paused","SetPlay","pause","hasShownMomentThisSession","markMomentAsShown","setInterval","clearInterval","nextTrack","shift","prevTrack","toggleShuffle","filter","seekAudio","formatTime","time","minutes","seconds","toString","padStart","limpiarNombre","nombre","replace","GetAudios","sesion","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","username","ok","Error","data","json","dataAudios","isArray","parse","arr","map","item","limpio","NombreAudio","id","Id_Audioteca","Nombre","segundos","Segundos","seg","error","initAudioPlayer","onMounted","onBeforeUnmount","cancelAnimationFrame","close","editingIndex","editedName","playSong","removeSong","songToDelete","isCurrent","DeleteFavorite","splice","audiotecaId","audioteca","editSong","saveEdit","newName","trim","ChangeName","nameAudio","idaudioteca","setMiniCanvasRef","el","listRef","isDragging","readyIndex","dragText","fingerOffsetY","floatY","containerRect","top","bottom","left","touchTimer","floatingStyle","position","min","max","zIndex","pointerEvents","startTouch","touches","currentTarget","itemRect","getBoundingClientRect","listBox","clientY","setTimeout","onDrag","targetIndex","indexFromY","moved","endDrag","clearTimeout","releasedIndex","querySelectorAll","forEach","classList","remove","y","container","children","from","r","mid","SetMoment","idMomento","querySelector","idUser","idAudio","currentAudio","idReproduccion","tiempo","home","getHalfHourSessionKey","now","Date","year","getFullYear","month","String","getMonth","day","getDate","hour","getHours","getMinutes","block","currentSession","setItem","_createElementVNode","class","onClick","_cache","args","_ctx","updateShow","innerHTML","_unref","_createElementBlock","_hoisted_2","_hoisted_3","_toDisplayString","_hoisted_4","type","$event","onInput","_hoisted_6","_imports_0","style","_imports_1","_normalizeClass","active","_hoisted_8","_hoisted_9","_hoisted_10","_imports_4","_hoisted_13","_hoisted_14","_hoisted_15","for","_hoisted_17","_hoisted_18","_hoisted_20","_hoisted_21","_hoisted_23","_hoisted_24","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_30","_hoisted_32","_hoisted_34","_createVNode","_TransitionGroup","tag","_Fragment","_renderList","key","role","onTouchstart","onTouchmove","_withModifiers","onTouchend","onTouchcancel","_imports_5","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","onKeyup","_withKeys","onBlur","_imports_6","_imports_7","_normalizeStyle","__exports__"],"sourceRoot":""}