{"version":3,"file":"js/0.fcba3e35.js","mappings":"ggBAqCA,MAAM,EAAEA,IAAMC,EAAAA,EAAAA,MAMRC,GAAWC,EAAAA,EAAAA,IAAI,IACfC,GAAWD,EAAAA,EAAAA,IAAI,IACfE,GAAeF,EAAAA,EAAAA,IAAI,IACnBG,GAASC,EAAAA,EAAAA,MACTC,GAAYL,EAAAA,EAAAA,KAAI,GAEhBM,EAAcC,UACZ,IACQ,MAAMC,QAAiBC,MAAM,GAAGC,EAAAA,uBAAmC,CAC3DC,OAAQ,OACRC,QAAS,CACD,eAAgB,oBAExBC,KAAMC,KAAKC,UAAU,CACbhB,SAAUA,EAASiB,MACnBf,SAAUA,EAASe,UAI7BC,QAAaT,EAASU,OACT,GAAfD,EAAKE,QACDC,aAAaC,QAAQ,QAASJ,EAAKA,MAEnCd,EAAOmB,KAAK,WAEZpB,EAAac,MAAQR,EAASe,QAC9BlB,EAAUW,OAAQ,EAElC,CAAE,MAAOQ,GACDtB,EAAac,MAAQ,oCACrBS,QAAQD,MAAMA,EACtB,GAGR,SAASE,IACD,IAAIC,EAAIC,SAASC,eAAe,QACjB,aAAXF,EAAEG,KACEH,EAAEG,KAAO,OAETH,EAAEG,KAAO,UAEzB,C,ksDC9EA,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,uDCPO,MAAMrB,EAAe,0C","sources":["webpack://angerpulse/./src/components/AngerLogin.vue","webpack://angerpulse/./src/components/AngerLogin.vue?d955","webpack://angerpulse/./src/config/api.js"],"sourcesContent":["<template>\r\n        <div>\r\n            <label class=\"b-24-black\" v-html=\"t('profile.Login')\"></label>\r\n        </div>\r\n        <form class=\"py-5\" @submit.prevent=\"handleLogin\">\r\n                <div class=\"mb-3 px-3 text-start\">\r\n                        <label for=\"disabledTextInput\" class=\"form-label b-16-gray\"\r\n                                v-html=\"t('profile.usuario')\"></label>\r\n                        <input type=\"text\" class=\"form-control py-3\" v-model=\"username\"\r\n                                :placeholder=\"t('profile.usuario')\">\r\n                </div>\r\n                <div class=\"mb-3 px-3 text-start\">\r\n                        <label for=\"disabledTextInput\" class=\"form-label b-16-gray\"\r\n                                v-html=\"t('profile.contraseña')\"></label>\r\n                        <input type=\"password\" v-model=\"password\" class=\"form-control py-3\" value=\"password\" id=\"pass\"\r\n                                :placeholder=\"t('profile.contraseña')\">\r\n                        <input class=\"mt-3\" type=\"checkbox\" @click=\"showPassword()\">{{ t('profile.showhide') }}\r\n                </div>\r\n                <div>\r\n                        <button type=\"submit\" class=\"btn-black px-3\" v-html=\"t('profile.Login')\"></button>\r\n                </div>\r\n        </form>\r\n        <router-link to=\"/account\">\r\n                <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.newaccount')\"></label>\r\n        </router-link>\r\n        <!-- Modal de error -->\r\n        <div v-if=\"showModal\" class=\"modal\">\r\n                <div class=\"modal-content\">\r\n                        <h3>{{ t('profile.messageError') }}</h3>\r\n                        <br>\r\n                        <button class=\"btn-black px-3\" @click=\"showModal = false\">{{ t('profile.btnCerrar') }}</button>\r\n                </div>\r\n        </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useI18n } from 'vue-i18n'\r\nconst { t } = useI18n()\r\n\r\nimport { useRouter } from 'vue-router'\r\nimport { ref } from 'vue'\r\nimport { API_BASE_URL } from '@/config/api'\r\n\r\nconst username = ref('')\r\nconst password = ref('')\r\nconst errorMessage = ref('')\r\nconst router = useRouter()\r\nconst showModal = ref(false)\r\n\r\nconst handleLogin = async () => {\r\n        try {\r\n                const response = await fetch(`${API_BASE_URL}/api/usuarios/Login`, {\r\n                        method: 'POST',\r\n                        headers: {\r\n                                'Content-Type': 'application/json'\r\n                        },\r\n                        body: JSON.stringify({\r\n                                username: username.value,\r\n                                password: password.value\r\n                        })\r\n                })\r\n\r\n                const data = await response.json()\r\n                if (data.status == 1) {\r\n                        localStorage.setItem('token', data.data)\r\n\r\n                        router.push('/home') // Redirige al home\r\n                } else {\r\n                        errorMessage.value = response.message\r\n                        showModal.value = true\r\n                }\r\n        } catch (error) {\r\n                errorMessage.value = 'Error de conexión con el servidor'\r\n                console.error(error)\r\n        }\r\n}\r\n\r\nfunction showPassword() {\r\n        var x = document.getElementById(\"pass\");\r\n        if (x.type === \"password\") {\r\n                x.type = \"text\";\r\n        } else {\r\n                x.type = \"password\";\r\n        }\r\n}\r\n</script>\r\n<style scoped>\r\n.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0,0,0,0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding:20px\r\n}\r\n.modal-content {\r\n  background: white;\r\n  padding: 40px;\r\n  border-radius: 8px;\r\n}\r\n</style>\r\n","import script from \"./AngerLogin.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AngerLogin.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AngerLogin.vue?vue&type=style&index=0&id=9903c06e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9903c06e\"]])\n\nexport default __exports__","//export const API_BASE_URL = \"https://localhost:5001\"\r\nexport const API_BASE_URL = \"https://marcoracm-002-site1.mtempurl.com\""],"names":["t","useI18n","username","ref","password","errorMessage","router","useRouter","showModal","handleLogin","async","response","fetch","API_BASE_URL","method","headers","body","JSON","stringify","value","data","json","status","localStorage","setItem","push","message","error","console","showPassword","x","document","getElementById","type","__exports__"],"sourceRoot":""}