"use strict";(self["webpackChunkangerpulse"]=self["webpackChunkangerpulse"]||[]).push([[935],{8745:function(a){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAnCAYAAABuf0pMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACKSURBVHgB7dZBDYAwFAPQSsABUpCCFCQgAQlImAQkIAEJsJ+xC2GBA/sNSV/Scz9s2QaIiMg3mpgQs8f0IFjO8p0xxHQpt2xwclduCXBQKl+R9gStvEVl1PKRWT4wy1Eot3RwQv8DhroHsklDvBii+kn4NESAI+ptmAUQ3wPG1nxG+nL3chGRfzsACr9r8vPW0lwAAAAASUVORK5CYII="},9935:function(a,e,t){t.r(e),t.d(e,{default:function(){return ta}});t(4114),t(8111),t(7588),t(1701);var l=t(6768),n=t(144),s=t(5130),r=t(4232),i=t(8745),o=t(5384),c=t(2674),u=t(17),d=t(3408),v=t(1010);const p=["innerHTML"],f=["innerHTML"],y={class:"text-start px-4 pt-3"},g=["innerHTML"],m=["innerHTML"],k={class:"numeralia d-flex py-3"},b={class:"num-circle"},L={class:"circle-black b-48-gray p-3"},A={class:"m-auto"},h={class:"data-rec b-20-gray w-100"},M=["innerHTML"],C={class:"numeralia d-flex py-3"},S={key:0,class:"num-circle"},E={class:"circle-black b-20-gray p-3"},T={class:"m-auto"},x={key:1,class:"num-circle"},R={class:"circle-black b-32-gray p-3"},H={class:"m-auto"},F={class:"data-rec b-20-gray w-100"},w=["innerHTML"],I={class:"py-3 px-4"},K=["innerHTML"],j={class:"py-3 px-4"},J=["innerHTML"],O={style:{display:"flex","justify-content":"center"}},X={border:"1",style:{"border-collapse":"collapse",width:"100%"}},B={key:0},Q={key:1},N={class:"d-flex justify-content-start pt-4"},P=["innerHTML"],$={class:"d-flex justify-content-start pt-4"},_=["innerHTML"],D={class:"d-flex justify-content-start pt-3"},G=["innerHTML"],U={class:"d-flex justify-content-start pt-3"},V=["innerHTML"],W={class:"d-flex justify-content-start pt-3"},q=["innerHTML"],Y={class:"d-flex justify-content-start pt-3"},z=["innerHTML"];var Z={__name:"GuiaDashboard",setup(a){const{t:e,locale:t}=(0,o.s9)(),Z=(0,n.KR)(1),aa=(0,n.KR)(1),ea=(0,n.KR)(0),ta=(0,n.KR)(0),la=(0,n.KR)(0);async function na(a){try{const e=localStorage.getItem("token");if(!e)return;const t=await fetch(`${c.J}/api/config/GetCountAudios`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,temporalidad:a})}),l=await t.json();1==l.status?la.value=l.data:la.value=0}catch(e){console.error("Error al cargar audios:",e)}}const sa=(0,n.KR)(0),ra=(0,n.KR)(0);async function ia(a){try{const e=localStorage.getItem("token");if(!e)return;const t=await fetch(`${c.J}/api/config/GetTimeAudios`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,temporalidad:a})}),l=await t.json();if(1==l.status){const a=l.data;sa.value=Math.floor(a/60),ra.value=Math.floor(a%60)}else sa.value=0,ra.value=0}catch(e){console.error("Error al cargar audios:",e)}}const oa=(0,n.KR)([]),ca=(0,n.KR)([]),ua=(0,n.KR)([]),da=(0,n.KR)([]);u.t1.register(u.E8,u.PP,u.kc,u.m_,u.s$,d.A);const va=(0,l.EW)((()=>({labels:oa.value,datasets:[{label:"",data:ca.value,backgroundColor:"#AAAAAA",barThickness:14,borderRadius:10,pointStyle:"circle"}]}))),pa={layout:{padding:{top:10}},responsive:!0,onClick:(a,e)=>{if(!e.length)return;const t=e[0].index,l=ua.value[t];l&&fa(l)},plugins:{legend:{display:!0,labels:{padding:10,color:"#555",boxHeight:0}},datalabels:{anchor:"end",align:"start",offset:-30,backgroundColor:"#000000",borderRadius:999,color:"#ffffff",font:{weight:"500",size:10},padding:{top:8,bottom:8,left:9,right:9},formatter:a=>a}},scales:{y:{beginAtZero:!0,ticks:{display:!1},grid:{display:!0}},x:{grid:{display:!1}}}};function fa(a){return da.value.push({temporalidad:aa.value,mes:ea.value,semana:ta.value}),3==aa.value?(ea.value=a.dia,aa.value=2,void ga()):2==aa.value?(ta.value=a.dia,aa.value=1,void ga()):void 0}function ya(){if(!da.value.length)return;const a=da.value.pop();aa.value=a.temporalidad,ea.value=a.mes,ta.value=a.semana,ga()}async function ga(){try{const a=localStorage.getItem("token");if(!a)return;const e=await fetch(`${c.J}/api/config/GetDays`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:a,temporalidad:aa.value,anio:0,mes:ea.value,semana:ta.value})}),t=await e.json();if(1==t.status&&""!=t.data){const a=JSON.parse(t.data);ua.value=a,3!=aa.value?oa.value=a.map((a=>[a.nombre.substring(0,3),a.dia])):oa.value=a.map((a=>[a.nombre.substring(0,3)])),ca.value=a.map((a=>a.cantidadAudios))}else oa.value=[],ca.value=[0,0,0,0,0,0,0]}catch(a){console.error("Error al cargar audios:",a)}}const ma=["#efefef","#E3FCFF","#FFE4B3","#FFC4B3","#FF9797","#fb5353"],ka=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],ba=(0,n.KR)({}),La={Lunes:"Mon",Martes:"Tue","Miércoles":"Wed",Jueves:"Thu",Viernes:"Fri","Sábado":"Sat",Domingo:"Sun"},Aa=(0,l.EW)((()=>1==aa.value?ka:2==aa.value?["Sem 1","Sem 2","Sem 3","Sem 4","Sem 5"]:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"])),ha=(0,l.EW)((()=>{if("es"===t.value)return ba.value;const a={};for(const e of ka)a[La[e]]=ba.value[e]||[];return a})),Ma=(0,l.EW)((()=>Math.max(...Aa.value.map((a=>ha.value[a]?.length||0)),0))),Ca=(a,e)=>{const t=ha.value[a]?.[e];return t?t.intervalo:null};function Sa(a,e){const t=ha.value[a]?.[e];return t&&t.cantidad&&0!==t.cantidad&&ma[t.momento]||"#fff"}async function Ea(a){try{const e=localStorage.getItem("token");if(!e)return;const t=await fetch(`${c.J}/api/config/GetMomentsAudios`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,temporalidad:a})}),l=await t.json();if(console.log(l.data),1!==l.status||!l.data)return void(ba.value={});const n=JSON.parse(l.data);if(1==a){const a={};ka.forEach((e=>a[e]={})),n.forEach((e=>{const t=e.Dia,l=`${e.Intervalo}-${e.Momento}`;a[t]&&(a[t][l]||(a[t][l]={intervalo:e.Intervalo,momento:e.Momento,cantidad:0}),a[t][l].cantidad+=e.CantidadAudios)}));const e={};return ka.forEach((t=>{e[t]=Object.values(a[t])})),void(ba.value=e)}if(2==a){const a=["Sem 1","Sem 2","Sem 3","Sem 4","Sem 5"],e={};a.forEach((a=>e[a]={})),n.forEach((a=>{const t="Sem "+a.Semana,l=`${a.Intervalo}-${a.Momento}`;e[t]&&(e[t][l]||(e[t][l]={intervalo:a.Intervalo,momento:a.Momento,cantidad:0}),e[t][l].cantidad+=a.CantidadAudios)}));const t={};return a.forEach((a=>{t[a]=Object.values(e[a])})),void(ba.value=t)}if(3==a){const a=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],e={};a.forEach((a=>e[a]={})),n.forEach((a=>{const t=a.Label,l=`${a.Intervalo}-${a.Momento}`;e[t]&&(e[t][l]||(e[t][l]={intervalo:a.Intervalo,momento:a.Momento,cantidad:0}),e[t][l].cantidad+=a.CantidadAudios)}));const t={};return a.forEach((a=>{t[a]=Object.values(e[a])})),void(ba.value=t)}}catch(e){console.error("Error momentos",e)}}function Ta(a){aa.value=a,ea.value=0,ta.value=0,na(a),ia(a),ga(),Ea(a)}return(0,l.sV)((()=>{Ta(Z.value)})),(a,t)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",null,[(0,l.Lk)("label",{class:"b-24-black",innerHTML:(0,n.R1)(e)("activity.title")},null,8,p),t[2]||(t[2]=(0,l.Lk)("br",null,null,-1)),t[3]||(t[3]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("div",null,[(0,l.Lk)("p",{class:"r-16-gray px-4 pt-2 pb-1 text-center",innerHTML:(0,n.R1)(e)("activity.info")},null,8,f)])]),(0,l.Lk)("div",y,[(0,l.Lk)("p",{class:"b-16-gray",innerHTML:(0,n.R1)(e)("activity.temporalidad")},null,8,g),(0,l.bo)((0,l.Lk)("select",{id:"FilterTempo",class:"form-control w-100 select-ap","onUpdate:modelValue":t[0]||(t[0]=a=>Z.value=a),onChange:t[1]||(t[1]=a=>Ta(Z.value)),innerHTML:(0,n.R1)(e)("activity.ultsem")},null,40,m),[[s.u1,Z.value]]),(0,l.Lk)("div",k,[(0,l.Lk)("div",b,[(0,l.Lk)("div",L,[(0,l.Lk)("label",A,(0,r.v_)(la.value),1)])]),(0,l.Lk)("div",h,[(0,l.Lk)("label",{class:"m-auto px-3 b-20-gray",innerHTML:(0,n.R1)(e)("activity.audio")},null,8,M)])]),(0,l.Lk)("div",C,[sa.value>0?((0,l.uX)(),(0,l.CE)("div",S,[(0,l.Lk)("div",E,[(0,l.Lk)("label",T,(0,r.v_)(sa.value+":"+ra.value.toString().padStart(2,"0")+"m"),1)])])):((0,l.uX)(),(0,l.CE)("div",x,[(0,l.Lk)("div",R,[(0,l.Lk)("label",H,(0,r.v_)(ra.value.toString().padStart(2,"0")+"s"),1)])])),(0,l.Lk)("div",F,[(0,l.Lk)("label",{class:"m-auto px-3 b-20-gray",innerHTML:(0,n.R1)(e)("activity.horas")},null,8,w)])])]),(0,l.Lk)("div",I,[(0,l.Lk)("p",{class:"b-16-gray pt-2 pb-1 text-start",innerHTML:(0,n.R1)(e)("activity.dias")},null,8,K),(0,l.Lk)("div",null,[da.value.length>0?((0,l.uX)(),(0,l.CE)("div",{key:0,onClick:ya,class:"d-flex justify-content-start px-0"},t[4]||(t[4]=[(0,l.Lk)("div",null,[(0,l.Lk)("button",{class:"btn-back"},[(0,l.Lk)("img",{width:"20",src:i,class:"m-auto"})])],-1),(0,l.Lk)("div",{class:"ps-0"},[(0,l.Lk)("label",{class:"b-18-gray"},"Regresar")],-1)]))):(0,l.Q3)("",!0)]),(0,l.Lk)("div",null,[(0,l.bF)((0,n.R1)(v.yP),{style:{"overflow-y":"visible"},data:va.value,options:pa},null,8,["data"])])]),(0,l.Lk)("div",j,[(0,l.Lk)("p",{class:"b-16-gray pt-2 pb-1 text-start",innerHTML:(0,n.R1)(e)("activity.momentos")},null,8,J),(0,l.Lk)("div",O,[(0,l.Lk)("table",X,[(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(Ma.value,(a=>((0,l.uX)(),(0,l.CE)("tr",{key:a},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(Aa.value,(e=>((0,l.uX)(),(0,l.CE)("td",{key:e,style:(0,r.Tr)([{backgroundColor:Sa(e,Ma.value-a)},{"text-align":"center"}])},(0,r.v_)(Ca(e,Ma.value-a)??""),5)))),128))])))),128)),2!=aa.value?((0,l.uX)(),(0,l.CE)("tr",B,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(Aa.value,(a=>((0,l.uX)(),(0,l.CE)("td",{key:a,style:{"font-weight":"bold","text-align":"center"}},(0,r.v_)(a.substring(0,3)),1)))),128))])):((0,l.uX)(),(0,l.CE)("tr",Q,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(Aa.value,(a=>((0,l.uX)(),(0,l.CE)("td",{key:a,style:{"font-weight":"bold","text-align":"center"}},(0,r.v_)(a.substring(0,5)),1)))),128))]))])])]),(0,l.Lk)("div",N,[t[5]||(t[5]=(0,l.Lk)("div",{class:"mini-square",style:{"background-color":"#efefef"}},null,-1)),(0,l.Lk)("div",{class:"r-12-gray text-start ps-3",innerHTML:(0,n.R1)(e)("activity.registro")},null,8,P)]),(0,l.Lk)("div",$,[t[6]||(t[6]=(0,l.Lk)("div",{class:"mini-square",style:{"background-color":"#E3FCFF"}},null,-1)),(0,l.Lk)("div",{class:"r-12-gray text-start ps-3",innerHTML:(0,n.R1)(e)("activity.act")},null,8,_)]),(0,l.Lk)("div",D,[t[7]||(t[7]=(0,l.Lk)("div",{class:"mini-square",style:{"background-color":"#FFE4B3"}},null,-1)),(0,l.Lk)("div",{class:"r-12-gray text-start ps-3",innerHTML:(0,n.R1)(e)("activity.mente")},null,8,G)]),(0,l.Lk)("div",U,[t[8]||(t[8]=(0,l.Lk)("div",{class:"mini-square",style:{"background-color":"#FFC4B3"}},null,-1)),(0,l.Lk)("div",{class:"r-12-gray text-start ps-3",innerHTML:(0,n.R1)(e)("activity.lugares")},null,8,V)]),(0,l.Lk)("div",W,[t[9]||(t[9]=(0,l.Lk)("div",{class:"mini-square",style:{"background-color":"#FF9797"}},null,-1)),(0,l.Lk)("div",{class:"r-12-gray text-start ps-3",innerHTML:(0,n.R1)(e)("activity.palabras")},null,8,q)]),(0,l.Lk)("div",Y,[t[10]||(t[10]=(0,l.Lk)("div",{class:"mini-square",style:{"background-color":"#fb5353"}},null,-1)),(0,l.Lk)("div",{class:"r-12-gray text-start ps-3",innerHTML:(0,n.R1)(e)("activity.hablar")},null,8,z)])])],64))}},aa=t(1241);const ea=(0,aa.A)(Z,[["__scopeId","data-v-6de6a518"]]);var ta=ea}}]);
//# sourceMappingURL=935.153b590e.js.map