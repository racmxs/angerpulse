"use strict";(self["webpackChunkangerpulse"]=self["webpackChunkangerpulse"]||[]).push([[600],{2674:function(e,a,l){l.d(a,{J:function(){return t}});const t="https://marcoracm-002-site1.mtempurl.com"},5600:function(e,a,l){l.r(a),l.d(a,{default:function(){return me}});l(9112),l(3110);var t=l(6768),n=l(144),s=l(5130),r=l(4232),o=l(1126),i=l(5384),c=l(2674),u=l(8077);const d={key:0,class:"viewperfil"},p={class:"d-flex justify-content-between px-3"},b=["innerHTML"],m=["innerHTML"],L={class:"py-5"},v={class:"mb-3 px-3 text-start"},f=["innerHTML"],k=["placeholder"],y={class:"mb-3 px-3 text-start"},A=["innerHTML"],x=["value"],g={class:"mb-3 px-3 text-start"},T=["innerHTML"],w=["value"],h={class:"mb-3 px-3 text-start"},M=["innerHTML"],H=["innerHTML"],R={key:1,class:"editarPerfil"},C={class:"d-flex justify-content-start px-3"},I={class:"ps-2"},E=["innerHTML"],S={class:"py-5"},Q={class:"mb-3 px-3 text-start"},B=["innerHTML"],U=["value"],K={class:"mb-3 px-3 text-start"},P=["innerHTML"],O=["value"],J={class:"d-flex justify-content-between pb-5 px-3"},N=["innerHTML"],j=["innerHTML"],X={class:"modal modal-password fade right-slide",style:{"overflow-y":"scroll"},"data-bs-backdrop":"false",id:"modalPassword",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},F={class:"modal-dialog"},V={class:"modal-content"},z={class:"modal-body bg-black text-start px-3"},G=["innerHTML"],_={class:"mb-3 text-start"},Y=["innerHTML"],Z={key:0,class:"text-danger mt-2 small"},$={key:1,class:"text-success mt-2 small"},W={class:"mb-3 text-start"},D=["innerHTML"],q={key:0,class:"text-danger small mt-1"},ee={key:1,class:"text-success small mt-1"},ae={class:"mb-3 form-label b-16-white text-start"},le={class:"d-flex justify-content-between"},te=["innerHTML"],ne=["innerHTML"],se={class:"modal fade",id:"modalFavorite",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},re={class:"modal-dialog modal-dialog-centered"},oe={class:"modal-content"},ie={class:"modal-body px-3"},ce={class:"p-4 d-flex justify-content-center"},ue={class:"form-label r-24-gray"};var de={__name:"AngerUser",setup(e){const{t:a}=(0,i.s9)(),l=(0,n.KR)(""),de=(0,n.KR)(""),pe=(0,n.KR)(""),be=(0,n.KR)(""),me=(0,n.KR)(!0),Le=e=>{me.value=e},ve=(0,n.KR)(!1);async function fe(){try{const e=localStorage.getItem("token");if(!e)return;const a=await fetch(`${c.J}/api/usuarios/GetUserInfo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(!a.ok)throw new Error("Error en la petición");{const e=await a.json();if(""!=e.data){const a=JSON.parse(e.data)?JSON.parse(e.data):e.data;l.value=a.Nombre,de.value=a.Correo,pe.value=a.Plan}}}catch(e){console.error("Error al cargar audios:",e)}}async function ke(){if(He()){console.log("contraseña exitosa"),ve.value=!ve.value;try{const e=localStorage.getItem("token");if(!e)return;const a=await fetch(`${c.J}/api/usuarios/SetNewPass`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:Ae.value,username:e})}),l=await a.json(),t=document.getElementById("modalPassword"),n=u.aF.getOrCreateInstance(t);n.hide(),setTimeout(()=>{const e=document.getElementById("modalFavorite"),a=u.aF.getOrCreateInstance(e);a.show(),setTimeout(()=>{a.hide()},2e3)},400),1==l.status?be.value="Contraseña actualizada con éxito":be.value="Ocurrio un error"}catch(e){console.error("Error al cargar audios:",e)}}}async function ye(){try{const e=localStorage.getItem("token");if(!e)return;const a=await fetch(`${c.J}/api/usuarios/SetUserInfo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:document.getElementById("UserName").value,email:document.getElementById("UserEmail").value,username:e})});if(!a.ok)throw new Error("Error en la petición");Le(!0),fe()}catch(e){console.error("Error al cargar audios:",e)}}(0,t.sV)(()=>{fe()});const Ae=(0,n.KR)(""),xe=(0,n.KR)(!1),ge=(0,n.KR)(!1),Te=(0,n.KR)(""),we=()=>{const e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/;xe.value=e.test(Ae.value)},he=()=>{ge.value=Ae.value==Te.value};function Me(){var e=document.getElementById("pass"),a=document.getElementById("confirmPassword");"password"===e.type?(e.type="text",a.type="text"):(e.type="password",a.type="password")}const He=()=>{const e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/;return!!e.test(Ae.value)&&Ae.value===Te.value};return(e,i)=>((0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",null,[me.value?((0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("div",p,[(0,t.Lk)("div",null,[(0,t.Lk)("label",{class:"b-24-black",innerHTML:(0,n.R1)(a)("profile.title")},null,8,b)]),(0,t.Lk)("div",null,[(0,t.Lk)("button",{type:"button",class:"btn-black",onClick:i[0]||(i[0]=e=>Le(!1)),innerHTML:(0,n.R1)(a)("profile.editar")},null,8,m)])]),(0,t.Lk)("form",L,[(0,t.Lk)("div",v,[(0,t.Lk)("label",{for:"disabledTextInput",class:"form-label b-16-gray",innerHTML:(0,n.R1)(a)("profile.nombre")},null,8,f),(0,t.Lk)("input",{type:"text",disabled:"",class:"form-control py-3",placeholder:l.value},null,8,k)]),(0,t.Lk)("div",y,[(0,t.Lk)("label",{for:"disabledTextInput",class:"form-label b-16-gray",innerHTML:(0,n.R1)(a)("profile.correo")},null,8,A),(0,t.Lk)("input",{type:"text",disabled:"",class:"form-control py-3",value:de.value},null,8,x)]),(0,t.Lk)("div",g,[(0,t.Lk)("label",{for:"disabledTextInput",class:"form-label b-16-gray",innerHTML:(0,n.R1)(a)("profile.plan")},null,8,T),(0,t.Lk)("input",{type:"text",disabled:"",class:"form-control py-3",value:pe.value},null,8,w)]),(0,t.Lk)("div",h,[(0,t.Lk)("label",{for:"disabledTextInput",class:"form-label b-16-gray",innerHTML:(0,n.R1)(a)("profile.contraseña")},null,8,M),i[7]||(i[7]=(0,t.Lk)("input",{type:"password",disabled:"",class:"form-control py-3",value:"password"},null,-1))]),(0,t.Lk)("div",null,[(0,t.Lk)("button",{type:"button",class:"btn-black px-3","data-bs-toggle":"modal","data-bs-target":"#modalPassword",innerHTML:(0,n.R1)(a)("profile.cambiarcontra")},null,8,H)])])])):(0,t.Q3)("",!0),me.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",R,[(0,t.Lk)("div",C,[(0,t.Lk)("div",null,[(0,t.Lk)("button",{type:"button",class:"btn-back",onClick:i[1]||(i[1]=e=>Le(!0))},[...i[8]||(i[8]=[(0,t.Lk)("img",{src:o,class:"m-auto"},null,-1)])])]),(0,t.Lk)("div",I,[(0,t.Lk)("label",{class:"b-24-black",innerHTML:(0,n.R1)(a)("profile.editarperfil")},null,8,E)])]),(0,t.Lk)("form",S,[(0,t.Lk)("div",Q,[(0,t.Lk)("label",{for:"disabledTextInput",class:"form-label b-16-gray",innerHTML:(0,n.R1)(a)("profile.nombre")},null,8,B),(0,t.Lk)("input",{type:"text",class:"form-control py-3",value:l.value,id:"UserName"},null,8,U)]),(0,t.Lk)("div",K,[(0,t.Lk)("label",{for:"disabledTextInput",class:"form-label b-16-gray",innerHTML:(0,n.R1)(a)("profile.correo")},null,8,P),(0,t.Lk)("input",{type:"text",class:"form-control py-3",value:de.value,id:"UserEmail"},null,8,O)])]),(0,t.Lk)("div",J,[(0,t.Lk)("div",null,[(0,t.Lk)("button",{type:"button",class:"btn-gray-white",onClick:i[2]||(i[2]=e=>Le(!0)),innerHTML:(0,n.R1)(a)("profile.cancelar")},null,8,N)]),(0,t.Lk)("div",null,[(0,t.Lk)("button",{type:"button",class:"btn-black",onClick:ye,innerHTML:(0,n.R1)(a)("profile.guardar")},null,8,j)])])])),(0,t.Lk)("div",X,[(0,t.Lk)("div",F,[(0,t.Lk)("div",V,[(0,t.Lk)("div",z,[(0,t.Lk)("label",{class:"b-24-white pb-4",innerHTML:(0,n.R1)(a)("profile.cambiarcontra")},null,8,G),(0,t.Lk)("div",_,[(0,t.Lk)("label",{for:"disabledTextInput",class:"form-label b-16-white",innerHTML:(0,n.R1)(a)("profile.nuevacontra")},null,8,Y),(0,t.bo)((0,t.Lk)("input",{minlength:"8",onInput:we,type:"password","onUpdate:modelValue":i[3]||(i[3]=e=>Ae.value=e),class:"form-control py-3",id:"pass"},null,544),[[s.Jo,Ae.value]]),Ae.value&&!xe.value?((0,t.uX)(),(0,t.CE)("div",Z," ⚠️ La contraseña debe tener al menos 8 caracteres, una mayúscula, una minúscula, un número y un símbolo. ")):(0,t.Q3)("",!0),xe.value?((0,t.uX)(),(0,t.CE)("div",$," ✅ Contraseña segura ")):(0,t.Q3)("",!0)]),(0,t.Lk)("div",W,[(0,t.Lk)("label",{for:"disabledTextInput",class:"form-label b-16-white",innerHTML:(0,n.R1)(a)("profile.confirmarcontra")},null,8,D),(0,t.bo)((0,t.Lk)("input",{minlength:"8",onInput:he,"onUpdate:modelValue":i[4]||(i[4]=e=>Te.value=e),type:"password",class:"form-control py-3",id:"confirmPassword"},null,544),[[s.Jo,Te.value]]),!ge.value&&xe.value?((0,t.uX)(),(0,t.CE)("div",q," ❌ Las contraseñas no coinciden ")):(0,t.Q3)("",!0),ge.value&&xe.value?((0,t.uX)(),(0,t.CE)("div",ee," ✅ Las contraseñas coinciden ")):(0,t.Q3)("",!0)]),(0,t.Lk)("div",ae,[(0,t.Lk)("input",{class:"mt-3",type:"checkbox",onClick:i[5]||(i[5]=e=>Me())}),(0,t.eW)(" "+(0,r.v_)((0,n.R1)(a)("account.showhide")),1)]),(0,t.Lk)("div",le,[(0,t.Lk)("div",null,[(0,t.Lk)("button",{type:"button",class:"btn-gray","data-bs-dismiss":"modal",innerHTML:(0,n.R1)(a)("profile.cancelar")},null,8,te)]),(0,t.Lk)("div",null,[(0,t.Lk)("button",{type:"button",class:"btn-white",onClick:i[6]||(i[6]=e=>ke()),innerHTML:(0,n.R1)(a)("profile.guardar")},null,8,ne)])])])])])])]),(0,t.Lk)("div",se,[(0,t.Lk)("div",re,[(0,t.Lk)("div",oe,[(0,t.Lk)("div",ie,[(0,t.Lk)("div",ce,[(0,t.Lk)("label",ue,(0,r.v_)(be.value),1)])])])])])],64))}},pe=l(1241);const be=(0,pe.A)(de,[["__scopeId","data-v-f1411fe0"]]);var me=be},1126:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAnCAYAAABuf0pMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACKSURBVHgB7dZBDYAwFAPQSsABUpCCFCQgAQlImAQkIAEJsJ+xC2GBA/sNSV/Scz9s2QaIiMg3mpgQs8f0IFjO8p0xxHQpt2xwclduCXBQKl+R9gStvEVl1PKRWT4wy1Eot3RwQv8DhroHsklDvBii+kn4NESAI+ptmAUQ3wPG1nxG+nL3chGRfzsACr9r8vPW0lwAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=600.83a5ef7a.js.map