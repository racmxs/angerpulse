{"version":3,"file":"js/36.34cc14bb.js","mappings":"kJACO,MAAMA,EAAe,0C,sTCkC5B,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,MAERC,GAAaC,EAAAA,EAAAA,IAAI,IAEvBC,eAAeC,IACf,IACQ,MAAMC,QAAiBC,MAAM,GAAGR,EAAAA,+BAA2C,CAC3ES,OAAQ,OACRC,QAAS,CAAE,eAAgB,sBAErBC,QAAaJ,EAASK,OAE5BT,EAAWU,MAAQC,KAAKC,MAAMJ,EAAKA,KAEvC,CAAE,MAAOK,GACLC,QAAQC,MAAM,8BAA+BF,EACjD,CAEJ,CAEAX,eAAec,IACX,MAAMC,EAASC,aAAaC,QAAQ,SACpC,IAAKF,EAAQ,OAEb,MAAMb,QAAiBC,MAAM,GAAGR,EAAAA,8BAA0C,CACxES,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3Ba,KAAMT,KAAKU,UAAU,CAAEC,SAAUL,MAGnC,IAAKb,EAASmB,GAAI,MAAM,IAAIC,MAAM,wBAElC,MAAMhB,QAAaJ,EAASK,aAEtBgB,EAAAA,EAAAA,MACNC,SAASC,eAAe,OAASnB,EAAKA,MAAMoB,SAAU,CAE1D,CAEA1B,eAAe2B,IACX,MAAMZ,EAASC,aAAaC,QAAQ,SACpC,IAAKF,EAAQ,OAEb,MAAMb,QAAiBC,MAAM,GAAGR,EAAAA,8BAA0C,CACxES,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3Ba,KAAMT,KAAKU,UAAU,CAAEC,SAAUL,EAAQa,cAAeJ,SAASK,cAAc,6BAA6BrB,UAG9G,IAAKN,EAASmB,GAAI,MAAM,IAAIC,MAAM,wBAElC,MAAMhB,QAAaJ,EAASK,OAC5BK,QAAQkB,IAAIxB,EAChB,C,OAGAyB,EAAAA,EAAAA,KAAU,KACR9B,GAAe,KAGjB+B,EAAAA,EAAAA,IAAMlC,GAAYE,UACZiC,EAAOC,OAAS,SACZpB,GACR,I,g0BC/FF,MAAMqB,EAAc,EAEpB,O","sources":["webpack://angerpulse/./src/config/api.js","webpack://angerpulse/./src/components/GuiaConfig.vue","webpack://angerpulse/./src/components/GuiaConfig.vue?35fa"],"sourcesContent":["//export const API_BASE_URL = \"https://localhost:5001\"\r\nexport const API_BASE_URL = \"https://marcoracm-002-site1.mtempurl.com\"","<template>\n    <div>\n        <label class=\"b-24-black\" v-html=\"t('audio.title')\"></label>\n        <p class=\"r-16-gray py-4 px-3\" v-html=\"t('audio.saber')\">\n        </p>\n        <p class=\"b-16-black ps-3 text-start\" v-html=\"t('audio.escoje')\">\n        </p>\n         <div class=\"square-info pt-3 pb-2 px-3\">\n    <ul class=\"ps-0\">\n      <li\n        v-for=\"item in duraciones\"\n        :key=\"item.IdDuracion\"\n        class=\"list-group-item text-start py-2\"\n      >\n        <input @click=\"SetConfigUser()\"\n          class=\"form-check-input me-1\"\n          type=\"radio\"\n          name=\"dur\"\n          :id=\"`opc-${item.IdDuracion}`\"\n          :value=\"item.IdDuracion\"\n        />\n        <label :for=\"`opc-${item.IdDuracion}`\">{{ item.Descripcion }}</label>\n      </li>\n    </ul>\n  </div>\n        <p class=\"r-16-gray py-4 px-3\" v-html=\"t('audio.sugerencia')\">\n        </p>\n    </div>\n   \n</template>\n<script setup>\nimport { useI18n } from 'vue-i18n'\nimport { ref, onMounted, nextTick, watch  } from 'vue'\nimport { API_BASE_URL } from '@/config/api'\n\nconst { t } = useI18n()\n\nconst duraciones = ref([])\n\nasync function GetDuraciones(){\ntry {\n        const response = await fetch(`${API_BASE_URL}/api/config/GetAudioLengths`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" }\n        })\n        const data = await response.json()\n\n        duraciones.value = JSON.parse(data.data);\n\n    } catch (err) {\n        console.error('Error al cargar duraciones:', err)\n    }\n\n}\n\nasync function GetConfigUser(){\n    const sesion = localStorage.getItem(\"token\")\n    if (!sesion) return\n\n    const response = await fetch(`${API_BASE_URL}/api/config/GetAudioLength`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ username: sesion })\n    })\n\n    if (!response.ok) throw new Error(\"Error en la petición\")\n\n    const data = await response.json()\n\n    await nextTick() // espera que Vue actualice el DOM\n    document.getElementById('opc-' + data.data).checked = true;\n\n}\n\nasync function SetConfigUser(){\n    const sesion = localStorage.getItem(\"token\")\n    if (!sesion) return\n\n    const response = await fetch(`${API_BASE_URL}/api/config/SetAudioLength`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ username: sesion, idAudioLength: document.querySelector('input[name=\"dur\"]:checked').value })\n    })\n\n    if (!response.ok) throw new Error(\"Error en la petición\")\n\n    const data = await response.json()\n    console.log(data)\n}\n\n\nonMounted(() => {\n  GetDuraciones();\n})\n\nwatch(duraciones, async (newVal) => {\n  if (newVal.length > 0) {\n    await GetConfigUser()\n  }\n})\n\n</script>","import script from \"./GuiaConfig.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GuiaConfig.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["API_BASE_URL","t","useI18n","duraciones","ref","async","GetDuraciones","response","fetch","method","headers","data","json","value","JSON","parse","err","console","error","GetConfigUser","sesion","localStorage","getItem","body","stringify","username","ok","Error","nextTick","document","getElementById","checked","SetConfigUser","idAudioLength","querySelector","log","onMounted","watch","newVal","length","__exports__"],"sourceRoot":""}