{"version":3,"file":"js/600.a358b077.js","mappings":"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","sources":["webpack://angerpulse/./src/config/api.js","webpack://angerpulse/./src/components/AngerUser.vue","webpack://angerpulse/./src/components/AngerUser.vue?0965"],"sourcesContent":["//export const API_BASE_URL = \"https://localhost:5001\"\r\nexport const API_BASE_URL = \"https://marcoracm-002-site1.mtempurl.com\"","<template>\r\n    <div>\r\n        <div class=\"viewperfil\" v-if=\"isVisibleView\">\r\n            <div class=\"d-flex justify-content-between px-3\">\r\n                <div>\r\n                    <label class=\"b-24-black\" v-html=\"t('profile.title')\"></label>\r\n                </div>\r\n                <div>\r\n                    <button type=\"button\" class=\"btn-black\" @click=\"toggleVisibilityPerfil(false)\"\r\n                        v-html=\"t('profile.editar')\">\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <form class=\"py-5\">\r\n                <!-- <div class=\"mb-3 px-3 text-start\">\r\n                <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.usuario')\"></label>\r\n                <input type=\"text\" disabled class=\"form-control py-3\" placeholder=\"Marco1946\">\r\n            </div> -->\r\n                <div class=\"mb-3 px-3 text-start\">\r\n                    <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.nombre')\"></label>\r\n                    <input type=\"text\" disabled class=\"form-control py-3\" :placeholder=\"name\">\r\n                </div>\r\n                <div class=\"mb-3 px-3 text-start\">\r\n                    <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.correo')\"></label>\r\n                    <input type=\"text\" disabled class=\"form-control py-3\" :value=\"email\">\r\n                </div>\r\n                <!-- <div class=\"mb-3 px-3 text-start\">\r\n                <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.movil')\"></label>\r\n                <input type=\"text\" disabled class=\"form-control py-3\" placeholder=\"556 4738290\">\r\n            </div> -->\r\n                <div class=\"mb-3 px-3 text-start\">\r\n                    <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.plan')\"></label>\r\n                    <input type=\"text\" disabled class=\"form-control py-3\" :value=\"plan\">\r\n                </div>\r\n                <!-- <div class=\"mb-3 px-3 text-start\">\r\n                <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.pago')\"></label>\r\n                <input type=\"text\" disabled class=\"form-control py-3\" value=\"Tarjeta: **** **** **** 1956\">\r\n            </div> -->\r\n                <div class=\"mb-3 px-3 text-start\">\r\n                    <label for=\"disabledTextInput\" class=\"form-label b-16-gray\"\r\n                        v-html=\"t('profile.contraseña')\"></label>\r\n                    <input type=\"password\" disabled class=\"form-control py-3\" value=\"password\">\r\n                </div>\r\n                <div>\r\n                    <button type=\"button\" class=\"btn-black px-3\" data-bs-toggle=\"modal\" data-bs-target=\"#modalPassword\"\r\n                        v-html=\"t('profile.cambiarcontra')\">\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div class=\"editarPerfil\" v-if=\"!isVisibleView\">\r\n            <div class=\"d-flex justify-content-start px-3\">\r\n                <div>\r\n                    <button type=\"button\" class=\"btn-back\" @click=\"toggleVisibilityPerfil(true)\">\r\n                        <img src=\"../assets/back.png\" class=\"m-auto\">\r\n                    </button>\r\n                </div>\r\n                <div class=\"ps-2\">\r\n                    <label class=\"b-24-black\" v-html=\"t('profile.editarperfil')\"></label>\r\n                </div>\r\n            </div>\r\n            <form class=\"py-5\">\r\n                <!-- <div class=\"mb-3 px-3 text-start\">\r\n                <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.usuario')\"></label>\r\n                <input type=\"text\" class=\"form-control py-3\" placeholder=\"Marco1946\">\r\n            </div> -->\r\n                <div class=\"mb-3 px-3 text-start\">\r\n                    <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.nombre')\"></label>\r\n                    <input type=\"text\" class=\"form-control py-3\" :value=\"name\" id=\"UserName\">\r\n                </div>\r\n                <div class=\"mb-3 px-3 text-start\">\r\n                    <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.correo')\"></label>\r\n                    <input type=\"text\" class=\"form-control py-3\" :value=\"email\" id=\"UserEmail\">\r\n                </div>\r\n                <!-- <div class=\"mb-3 px-3 text-start\">\r\n                <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.movil')\"></label>\r\n                <input type=\"text\" class=\"form-control py-3\" placeholder=\"556 4738290\">\r\n            </div> -->\r\n                <!-- <div class=\"mb-3 px-3 text-start\">\r\n                    <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.plan')\"></label>\r\n                    <input type=\"text\" class=\"form-control py-3\" value=\"$100 MXN mensual\">\r\n                </div> -->\r\n                <!-- <div class=\"mb-3 px-3 text-start\">\r\n                <label for=\"disabledTextInput\" class=\"form-label b-16-gray\" v-html=\"t('profile.pago')\">\r\n                </label>\r\n                <input type=\"text\" class=\"form-control py-3\" value=\"Tarjeta: **** **** **** 1956\">\r\n            </div> -->\r\n            </form>\r\n            <div class=\"d-flex justify-content-between pb-5 px-3\">\r\n                <div>\r\n                    <button type=\"button\" class=\"btn-gray-white\" @click=\"toggleVisibilityPerfil(true)\"\r\n                        v-html=\"t('profile.cancelar')\">\r\n                    </button>\r\n                </div>\r\n                <div>\r\n                    <button type=\"button\" class=\"btn-black\" @click=\"UpdateInfo\" v-html=\"t('profile.guardar')\">\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- Modal -->\r\n        <div class=\"modal modal-password fade right-slide\" style=\"overflow-y: scroll;\" data-bs-backdrop=\"false\"\r\n            id=\"modalPassword\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-body bg-black text-start px-3\">\r\n                        <label class=\"b-24-white pb-4\" v-html=\"t('profile.cambiarcontra')\"></label>\r\n                        <!-- <div class=\"mb-3 text-start\">\r\n                            <label for=\"disabledTextInput\" class=\"form-label b-16-white\"\r\n                                v-html=\"t('profile.nuevacontra')\"></label>\r\n                            <input type=\"password\" class=\"form-control py-3\" value=\"password\">\r\n                        </div>\r\n                        <div class=\"mb-3 text-start\">\r\n                            <label for=\"disabledTextInput\" class=\"form-label b-16-white\"\r\n                                v-html=\"t('profile.confirmarcontra')\"></label>\r\n                            <input type=\"password\" class=\"form-control py-3\" value=\"password\">\r\n                        </div> -->\r\n                        <div class=\"mb-3 text-start\">\r\n                            <label for=\"disabledTextInput\" class=\"form-label b-16-white\"\r\n                                v-html=\"t('profile.nuevacontra')\"></label>\r\n                            <input minlength=\"8\" @input=\"validatePassword\" type=\"password\" v-model=\"password\"\r\n                                class=\"form-control py-3\" id=\"pass\">\r\n                            <div v-if=\"password && !isValid\" class=\"text-danger mt-2 small\">\r\n                                ⚠️ La contraseña debe tener al menos 8 caracteres, una mayúscula, una minúscula, un\r\n                                número y un símbolo.\r\n                            </div>\r\n\r\n                            <div v-if=\"isValid\" class=\"text-success mt-2 small\">\r\n                                ✅ Contraseña segura\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mb-3 text-start\">\r\n                            <label for=\"disabledTextInput\" class=\"form-label b-16-white\"\r\n                                v-html=\"t('profile.confirmarcontra')\"></label>\r\n                            <input minlength=\"8\" @input=\"validateConfirm\" v-model=\"confirmPassword\" type=\"password\"\r\n                                class=\"form-control py-3\" id=\"confirmPassword\">\r\n                            <div v-if=\"!passwordsMatch && isValid\" class=\"text-danger small mt-1\">\r\n                                ❌ Las contraseñas no coinciden\r\n                            </div>\r\n                            <div v-if=\"passwordsMatch && isValid\" class=\"text-success small mt-1\">\r\n                                ✅ Las contraseñas coinciden\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class=\"mb-3 form-label b-16-white text-start\">\r\n                            <input class=\"mt-3 \" type=\"checkbox\" @click=\"showPassword()\"> {{ t('account.showhide') }}\r\n                        </div>\r\n                        <div class=\"d-flex justify-content-between\">\r\n                            <div>\r\n                                <button type=\"button\" class=\"btn-gray\" data-bs-dismiss=\"modal\"\r\n                                    v-html=\"t('profile.cancelar')\">\r\n                                </button>\r\n                            </div>\r\n                            <div>\r\n                                <button type=\"button\" class=\"btn-white\" @click=\"SetNewPass()\"\r\n                                    v-html=\"t('profile.guardar')\">\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"modalFavorite\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog modal-dialog-centered\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-body px-3\">\r\n                    <div class=\"p-4 d-flex justify-content-center\">\r\n                        <label class=\"form-label r-24-gray\">{{ message }}</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useI18n } from 'vue-i18n'\r\nimport { API_BASE_URL } from '@/config/api'\r\nconst { t } = useI18n()\r\nimport { ref, onMounted } from 'vue';\r\nimport * as bootstrap from 'bootstrap'\r\nconst name = ref(\"\");\r\nconst email = ref(\"\");\r\nconst plan = ref(\"\");\r\nconst message = ref(\"\")\r\nconst isVisibleView = ref(true);\r\nconst toggleVisibilityPerfil = (val) => {\r\n    isVisibleView.value = val;\r\n};\r\nconst isFavoriteQuestion = ref(false)\r\n\r\nonMounted(() => {\r\n    GetInfo()\r\n})\r\n\r\n\r\nasync function GetInfo() {\r\n    try {\r\n        const sesion = localStorage.getItem(\"token\")\r\n        if (!sesion) return\r\n\r\n        const response = await fetch(`${API_BASE_URL}/api/usuarios/GetUserInfo`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ username: sesion })\r\n        })\r\n\r\n        if (!response.ok) throw new Error(\"Error en la petición\")\r\n        else {\r\n            const data = await response.json()\r\n\r\n            if (data.data != \"\") {\r\n                const user = JSON.parse(data.data) ? JSON.parse(data.data) : data.data\r\n\r\n                name.value = user.Nombre;\r\n                email.value = user.Correo;\r\n                plan.value = user.Plan;\r\n            }\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error(\"Error al cargar audios:\", error)\r\n    }\r\n}\r\n\r\nasync function SetNewPass() {\r\n    if (!validateForm()) return;\r\n\r\n    console.log(\"contraseña exitosa\")\r\n    isFavoriteQuestion.value = !isFavoriteQuestion.value\r\n    try {\r\n        const sesion = localStorage.getItem(\"token\")\r\n        if (!sesion) return\r\n\r\n        const response = await fetch(`${API_BASE_URL}/api/usuarios/SetNewPass`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ password: password.value, username: sesion })\r\n        })\r\n\r\n        const data = await response.json()\r\n\r\n        // 1. Obtener y cerrar el modal de Password\r\n        const modalPassEl = document.getElementById('modalPassword');\r\n        const modalPassInst = bootstrap.Modal.getOrCreateInstance(modalPassEl);\r\n        modalPassInst.hide();\r\n\r\n        setTimeout(() => {\r\n            const modalExitoEl = document.getElementById('modalFavorite');\r\n            const modalExitoInst = bootstrap.Modal.getOrCreateInstance(modalExitoEl);\r\n            modalExitoInst.show();\r\n\r\n            // 3. Cierre automático del segundo modal tras 2 segundos\r\n            setTimeout(() => {\r\n                modalExitoInst.hide();\r\n            }, 2000); // 2000ms = 2 segundos visibles\r\n        }, 400);\r\n\r\n        if (data.status == 1) {\r\n            message.value = \"Contraseña actualizada con éxito\";\r\n        } else {\r\n            message.value = \"Ocurrio un error\"\r\n        }\r\n\r\n\r\n\r\n    } catch (error) {\r\n        console.error(\"Error al cargar audios:\", error)\r\n    }\r\n\r\n    // 1. Obtener y cerrar el modal de Password\r\n    // const modalPassEl = document.getElementById('modalPassword');\r\n    // const modalPassInst = bootstrap.Modal.getOrCreateInstance(modalPassEl);\r\n    // modalPassInst.hide();\r\n\r\n    // 2. Esperar a que termine la animación de cierre (aprox 300ms)\r\n    // Esto evita que el \"backdrop\" se quede trabado\r\n    // setTimeout(() => {\r\n    //     const modalExitoEl = document.getElementById('modalFavorite');\r\n    //     const modalExitoInst = bootstrap.Modal.getOrCreateInstance(modalExitoEl);\r\n    //     modalExitoInst.show();\r\n\r\n    //     setTimeout(() => {\r\n    //         modalExitoInst.hide();\r\n    //     }, 2000); \r\n    // }, 400);\r\n}\r\n\r\nasync function UpdateInfo() {\r\n    try {\r\n        const sesion = localStorage.getItem(\"token\")\r\n        if (!sesion) return\r\n\r\n        const response = await fetch(`${API_BASE_URL}/api/usuarios/SetUserInfo`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ name: document.getElementById('UserName').value, email: document.getElementById('UserEmail').value, username: sesion })\r\n        })\r\n\r\n        if (!response.ok) throw new Error(\"Error en la petición\")\r\n\r\n        toggleVisibilityPerfil(true)\r\n        GetInfo()\r\n\r\n    } catch (error) {\r\n        console.error(\"Error al cargar audios:\", error)\r\n    }\r\n}\r\nconst password = ref('')\r\nconst isValid = ref(false)\r\nconst passwordsMatch = ref(false)\r\nconst confirmPassword = ref('')\r\n\r\nconst validatePassword = () => {\r\n    const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^A-Za-z0-9]).{8,}$/\r\n    isValid.value = regex.test(password.value)\r\n}\r\nconst validateConfirm = () => {\r\n    passwordsMatch.value = password.value == confirmPassword.value\r\n}\r\n/***********************Preparación de datos***********************/\r\nfunction showPassword() {\r\n    var x = document.getElementById(\"pass\");\r\n    var xx = document.getElementById(\"confirmPassword\");\r\n    if (x.type === \"password\") {\r\n        x.type = \"text\";\r\n        xx.type = \"text\";\r\n    } else {\r\n        x.type = \"password\";\r\n        xx.type = \"password\";\r\n    }\r\n}\r\n\r\nconst validateForm = () => {\r\n    // Validar contraseña segura\r\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^A-Za-z0-9]).{8,}$/;\r\n    if (!passwordRegex.test(password.value)) {\r\n        return false;\r\n    }\r\n\r\n    // Validar confirmación de contraseña\r\n    if (password.value !== confirmPassword.value) {\r\n        return false;\r\n    }\r\n\r\n    // Si todo está correcto\r\n    return true;\r\n};\r\n</script>\r\n\r\n<style scoped>\r\na {\r\n    text-decoration: none;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n</style>","import script from \"./AngerUser.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AngerUser.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AngerUser.vue?vue&type=style&index=0&id=f1411fe0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f1411fe0\"]])\n\nexport default __exports__"],"names":["API_BASE_URL","t","useI18n","name","ref","email","plan","message","isVisibleView","toggleVisibilityPerfil","val","value","isFavoriteQuestion","async","GetInfo","sesion","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","username","ok","Error","data","json","user","parse","Nombre","Correo","Plan","error","console","SetNewPass","validateForm","log","password","modalPassEl","document","getElementById","modalPassInst","bootstrap","getOrCreateInstance","hide","setTimeout","modalExitoEl","modalExitoInst","show","status","UpdateInfo","onMounted","isValid","passwordsMatch","confirmPassword","validatePassword","regex","test","validateConfirm","showPassword","x","xx","type","passwordRegex","__exports__"],"sourceRoot":""}