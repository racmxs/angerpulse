{"version":3,"file":"js/541.2c123823.js","mappings":"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","sources":["webpack://angerpulse/./src/components/AngerPlay.vue","webpack://angerpulse/./src/components/AngerPlay.vue?146d"],"sourcesContent":["<template>\r\n  <div v-show=\"!moment\">\r\n    <label class=\"r-28-gray\" @click=\"updateShow\">Domina tu ira</label>\r\n    <br><br>\r\n    <div class=\"audio-player\">\r\n      <canvas ref=\"canvasRef\" width=\"256\" height=\"200\" class=\"visualizer\"></canvas>\r\n\r\n      <div class=\"song-info\">\r\n        <div class=\"d-flex justify-content-center pb-3\">\r\n          <div class=\"d-flex justify-content-center\" style=\"align-items: center;\">\r\n            <h3 class=\"margin-auto\">{{ songTitles[currentIndex] }}</h3>\r\n          </div>\r\n          <div>\r\n            <img v-show=\"!isFavorite\" src=\"../assets/heart-gray.png\" class=\"m-auto ps-3\" style=\"width: 55px;\"\r\n              @click=\"AddFavorite()\" data-bs-toggle=\"modal\" data-bs-target=\"#modalFavorite\">\r\n            <img v-show=\"isFavorite\" src=\"../assets/heart.png\" class=\"m-auto ps-3\" style=\"width: 55px;\"\r\n              @click=\"RemoveFavorite()\" data-bs-toggle=\"modal\" data-bs-target=\"#modalFavorite\">\r\n          </div>\r\n        </div>\r\n        <div class=\"time\">\r\n          {{ formatTime(currentTime) }} / {{ formatTime(duration) }}\r\n\r\n        </div>\r\n        <input type=\"range\" min=\"0\" :max=\"duration\" v-model=\"currentTime\" @input=\"seekAudio\" />\r\n      </div>\r\n      <div class=\"d-flex py-5\">\r\n        <img src=\"../assets/Atras.png\" class=\"m-auto\" @click=\"prevTrack\">\r\n        <img :src=\"isPlaying ? pauseIcon : playIcon\" style=\"height: 100%; width: fit-content; margin: auto;\"\r\n          @click=\"togglePlay\">\r\n        <img src=\"../assets/Siguiente.png\" class=\"m-auto\" @click=\"nextTrack\">\r\n      </div>\r\n    </div>\r\n    <!-- <br>\r\n    <div class=\"interseccion-large my-4\"></div> -->\r\n    <!-- <p class=\"m-10-gray text-start px-3\">\r\n      El fracaso, la tristeza y el arrepentimiento son los compañeros de viaje de la ira…\r\n      <br><br>\r\n      Es más fácil excluirla y no admitirla que gobernarla…\r\n      <br><br>\r\n      Debes sofocar sus primeros impulsos…\r\n      <br><br>\r\n      Al poseerte ya no puedes contenerla…\r\n      <br><br>\r\n      Séneca\r\n      <br>\r\n      Sobre la ira\r\n    </p>\r\n    <div class=\"interseccion-large my-4\"></div> -->\r\n    <p class=\"r-14-gray pb-5\">\r\n      Music by CalmWaves\r\n      <br><br>\r\n      Arr. by Angerpulse\r\n    </p>\r\n    <label class=\"b-40-gray bg-white px-5\">Guía</label>\r\n    <div class=\"square-info pt-5 pb-5\" style=\"margin-top: -30px;\">\r\n      <p class=\"m-16-gray px-4 py-4\">\r\n        Cuando escuches el primer UDU (sonido de percusión) inhala despacio y profundo por la nariz.\r\n        <br><br>\r\n        Sin interrumpir la inhalación hasta escuchar el siguiente UDU.\r\n        <br><br>\r\n        Ahora con calma exhala suave y lento por la boca.\r\n        <br><br>\r\n        Sin interrumpir la exhalación hasta escuchar el siguiente UDU.\r\n        <br><br>\r\n        Sigue alternando inhalación y exhalación cada vez que escuches UDU.\r\n      </p>\r\n    </div>\r\n  </div>\r\n  <div v-show=\"moment\">\r\n    <div>\r\n      <div>\r\n        <label class=\"sb-20-black pb-4\">¿En qué momento estabas?</label>\r\n        <ul class=\"ps-0\">\r\n          <li class=\"list-group-item text-start r-16-gray py-2\">\r\n            <div class=\"ps-5 form-check\">\r\n              <input id=\"plan-m\" class=\"form-check-input\" type=\"radio\" name=\"plan\" value=\"\" aria-label=\"...\">\r\n              <label for=\"plan-m\" class=\"form-check-label\">1) Antes de actividades previstas, planeadas o\r\n                rutinarias. </label>\r\n            </div>\r\n          </li>\r\n          <li class=\"list-group-item text-start r-16-gray py-2\">\r\n            <div class=\"ps-5 form-check\">\r\n              <input id=\"plan-s\" class=\"form-check-input\" type=\"radio\" name=\"plan\" value=\"\" aria-label=\"...\">\r\n              <label for=\"plan-s\" class=\"form-check-label\">2) Cavilaciones y sobrepensamiento. Encerrado en tu\r\n                mente.</label>\r\n            </div>\r\n          </li>\r\n          <li class=\"list-group-item text-start r-16-gray py-2\">\r\n            <div class=\"ps-5 form-check\">\r\n              <input id=\"plan-a\" class=\"form-check-input\" type=\"radio\" name=\"plan\" value=\"\" aria-label=\"...\">\r\n              <label for=\"plan-a\" class=\"form-check-label\">3) Transiciones entre situaciones, actividades,\r\n                lugares. </label>\r\n            </div>\r\n          </li>\r\n          <li class=\"list-group-item text-start r-16-gray py-2\">\r\n            <div class=\"ps-5 form-check\">\r\n              <input id=\"plan-4\" class=\"form-check-input\" type=\"radio\" name=\"plan\" value=\"\" aria-label=\"...\">\r\n              <label for=\"plan-4\" class=\"form-check-label\">4) Indignación o irritación por palabras o acciones\r\n                de alguien más.</label>\r\n            </div>\r\n          </li>\r\n          <li class=\"list-group-item text-start r-16-gray py-2\">\r\n            <div class=\"ps-5 form-check\">\r\n              <input id=\"plan-5\" class=\"form-check-input\" type=\"radio\" name=\"plan\" value=\"\" aria-label=\"...\">\r\n              <label for=\"plan-5\" class=\"form-check-label\">5) Después de hablar/actuar de manera emocional, impulsiva e\r\n                incorrecta.</label>\r\n            </div>\r\n          </li>\r\n\r\n        </ul>\r\n        <div class=\"d-flex justify-content-center pt-3 pb-5\">\r\n          <div class=\"px-3\">\r\n            <button type=\"button\" class=\"btn-gray-white\" @click=\"SetMoment()\">\r\n              Omitir\r\n            </button>\r\n          </div>\r\n          <div class=\"px-3\">\r\n            <button type=\"button\" class=\"btn-black border-0\" @click=\"SetMoment()\">\r\n              Guardar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <label class=\"sb-20-black pb-5\">¿Por qué indicar el momento?</label>\r\n        <p class=\"r-16-gray text-center px-3 pb-5\">\r\n          Distinguir y registrar el “momento” en el que estabas cuando decidiste hacer un audioejercicio(s) te\r\n          ayudará a:\r\n          <br><br>\r\n          - Entender cuándo debes estar más atento para regular tus emociones pre-ira y contener tus principales\r\n          detonantes de ira.\r\n          <br><br>\r\n          - Desarrollar una mayor capacidad de prevención y autocontrol.\r\n          <br><br>\r\n          Si decides no indicar el momento, solo pulsa el botón “omitir” cuando aparezca la pantalla de registro.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <!-- Modal -->\r\n  <div class=\"modal fade\" id=\"modalFavorite\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-body px-3\">\r\n          <div class=\"p-4 d-flex justify-content-center\">\r\n            <label v-show=\"!isFavoriteQuestion\" class=\"form-label r-24-gray\">Se agregó a tu audioteca de favoritos</label>\r\n            <label v-show=\"isFavoriteQuestion\" class=\"form-label r-24-gray\">¿Deseas remover el audio de tus favoritos?</label>\r\n          </div>\r\n          <div class=\"d-flex justify-content-between pb-3\" v-if=\"isFavoriteQuestion\">\r\n            <div>\r\n              <button type=\"button\" class=\"btn-gray\" data-bs-dismiss=\"modal\">\r\n                Cancelar\r\n              </button>\r\n            </div>\r\n            <div>\r\n              <button type=\"button\" class=\"btn-black\" @click=\"AddFavorite()\" data-bs-dismiss=\"modal\">\r\n                Aceptar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onBeforeUnmount } from 'vue'\r\n\r\nconst audios = [\r\n  new URL('@/assets/audios/Angerpulse_Audioejercicio_2.mp3', import.meta.url).href,\r\n  new URL('@/assets/audios/Angerpulse_Audioejercicio_6.mp3', import.meta.url).href,\r\n  new URL('@/assets/audios/Angerpulse_Audioejercicio_7.mp3', import.meta.url).href,\r\n  new URL('@/assets/audios/Angerpulse_Audioejercicio_8.mp3', import.meta.url).href,\r\n  new URL('@/assets/audios/Angerpulse_Audioejercicio_9.mp3', import.meta.url).href,\r\n  new URL('@/assets/audios/Angerpulse_Audioejercicio_11.mp3', import.meta.url).href,\r\n  new URL('@/assets/audios/Angerpulse_Audioejercicio_21.mp3', import.meta.url).href\r\n]\r\n\r\nconst songTitles = [\r\n  'AP 1',\r\n  'AP 2',\r\n  'Ap 3',\r\n  'AP 4',\r\n  'AP 5',\r\n  'Ap 6',\r\n  'Ap 7'\r\n]\r\n\r\nconst moment = ref(false)\r\nconst playIcon = new URL('@/assets/Play.png', import.meta.url).href\r\nconst pauseIcon = new URL('@/assets/Pausa.png', import.meta.url).href\r\n\r\nconst currentIndex = ref(0)\r\nconst isPlaying = ref(false)\r\nconst isShuffle = ref(true)\r\nconst currentTime = ref(0)\r\nconst duration = ref(0)\r\nconst audio = new Audio()\r\nconst isFavorite = ref(false)\r\nconst isFavoriteQuestion = ref(false)\r\n\r\nconst canvasRef = ref(null)\r\nlet audioContext, analyser, dataArray, source, animationId\r\nlet shuffledIndices = []\r\n\r\nconst hasShownMessage = ref(false)\r\nlet playbackInterval = null\r\nconst playbackSeconds = ref(0)\r\n\r\nfunction SetMoment() {\r\n  moment.value = false\r\n}\r\n\r\nfunction AddFavorite() {\r\n  isFavorite.value = !isFavorite.value\r\n  isFavoriteQuestion.value = false\r\n}\r\n\r\nfunction RemoveFavorite() {\r\n  isFavoriteQuestion.value = true\r\n}\r\n\r\nfunction setupVisualizer() {\r\n  audioContext = new (window.AudioContext || window.webkitAudioContext)()\r\n  analyser = audioContext.createAnalyser()\r\n  analyser.fftSize = 64\r\n  const bufferLength = analyser.frequencyBinCount\r\n  dataArray = new Uint8Array(bufferLength)\r\n\r\n  source = audioContext.createMediaElementSource(audio)\r\n  source.connect(analyser)\r\n  analyser.connect(audioContext.destination)\r\n\r\n  drawVisualizer()\r\n\r\n  if (audioContext.state === 'suspended') {\r\n    const resume = () => {\r\n      audioContext.resume()\r\n      document.removeEventListener('touchstart', resume)\r\n    }\r\n    document.addEventListener('touchstart', resume, { once: true })\r\n  }\r\n}\r\n\r\nfunction drawVisualizer() {\r\n  const canvas = canvasRef.value\r\n  const ctx = canvas.getContext('2d')\r\n  const width = canvas.width\r\n  const height = canvas.height\r\n  const centerY = height / 2\r\n\r\n  function draw() {\r\n    animationId = requestAnimationFrame(draw)\r\n    analyser.getByteFrequencyData(dataArray)\r\n\r\n    ctx.clearRect(0, 0, width, height)\r\n\r\n    const barWidth = width / dataArray.length\r\n    let x = 0\r\n\r\n    for (let i = 0; i < dataArray.length; i++) {\r\n\r\n      const value = dataArray[i]\r\n      const barHeight = value / 2\r\n      // ctx.fillStyle = '#aaa'\r\n      const gradient = ctx.createLinearGradient(0, centerY - barHeight, 0, centerY + barHeight)\r\n      gradient.addColorStop(0, '#00f')\r\n      gradient.addColorStop(1, '#0ff')\r\n      ctx.fillStyle = gradient\r\n      ctx.fillRect(x, centerY - barHeight, barWidth, barHeight)\r\n      ctx.fillRect(x, centerY, barWidth, barHeight)\r\n      x += barWidth + 1\r\n    }\r\n  }\r\n\r\n  draw()\r\n}\r\n\r\nfunction shuffleArray(length) {\r\n  const indices = [...Array(length).keys()]\r\n  for (let i = indices.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1))\r\n      ;[indices[i], indices[j]] = [indices[j], indices[i]]\r\n  }\r\n  return indices\r\n}\r\n\r\nfunction loadTrack(index) {\r\n  audio.src = audios[index]\r\n  audio.load()\r\n  playbackSeconds.value = 0\r\n  stopPlaybackTimer()\r\n  audio.play().then(() => {\r\n    isPlaying.value = true\r\n    startPlaybackTimer()\r\n  }).catch(err => {\r\n    console.warn('iOS puede haber bloqueado la reproducción:', err)\r\n  })\r\n}\r\n\r\nfunction togglePlay() {\r\n  if (audio.paused) {\r\n    audio.play()\r\n    isPlaying.value = true\r\n    startPlaybackTimer()\r\n  } else {\r\n    audio.pause()\r\n    isPlaying.value = false\r\n    stopPlaybackTimer()\r\n    if (playbackSeconds.value >= 110 && hasShownMessage.value == false) {\r\n      moment.value = true;\r\n      hasShownMessage.value = true\r\n    }\r\n    console.log(playbackSeconds.value);\r\n  }\r\n}\r\n\r\nfunction startPlaybackTimer() {\r\n  if (playbackInterval) return // Evita múltiples intervalos\r\n\r\n  playbackInterval = setInterval(() => {\r\n    playbackSeconds.value++\r\n  }, 1000)\r\n}\r\n\r\nfunction stopPlaybackTimer() {\r\n  clearInterval(playbackInterval)\r\n  playbackInterval = null\r\n}\r\n\r\nfunction nextTrack() {\r\n  if (isShuffle.value) {\r\n    if (shuffledIndices.length === 0) {\r\n      shuffledIndices = shuffleArray(audios.length)\r\n    }\r\n    currentIndex.value = shuffledIndices.shift()\r\n  } else {\r\n    currentIndex.value = (currentIndex.value + 1) % audios.length\r\n  }\r\n  loadTrack(currentIndex.value)\r\n}\r\n\r\nfunction prevTrack() {\r\n  if (isShuffle.value) {\r\n    if (shuffledIndices.length === 0) {\r\n      shuffledIndices = shuffleArray(audios.length)\r\n    }\r\n    currentIndex.value = shuffledIndices.shift()\r\n  } else {\r\n    currentIndex.value = (currentIndex.value - 1 + audios.length) % audios.length\r\n  }\r\n  loadTrack(currentIndex.value)\r\n}\r\n\r\n// function toggleShuffle() {\r\n//   isShuffle.value = !isShuffle.value\r\n//   if (isShuffle.value) {\r\n//     shuffledIndices = shuffleArray(audios.length)\r\n//     if (shuffledIndices.includes(currentIndex.value)) {\r\n//       shuffledIndices = shuffledIndices.filter(i => i !== currentIndex.value)\r\n//     }\r\n//   } else {\r\n//     shuffledIndices = []\r\n//   }\r\n// }\r\n\r\nfunction seekAudio() {\r\n  audio.currentTime = currentTime.value\r\n}\r\n\r\naudio.addEventListener('timeupdate', () => {\r\n  currentTime.value = audio.currentTime\r\n  duration.value = audio.duration || 0\r\n})\r\n\r\naudio.addEventListener('ended', () => {\r\n  nextTrack()\r\n})\r\n\r\nfunction formatTime(time) {\r\n  const minutes = Math.floor(time / 60)\r\n  const seconds = Math.floor(time % 60).toString().padStart(2, '0')\r\n  return `${minutes}:${seconds}`\r\n}\r\n\r\nonMounted(() => {\r\n  setupVisualizer()\r\n  loadTrack(currentIndex.value)\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  cancelAnimationFrame(animationId)\r\n  audio.pause()\r\n  audio.src = ''\r\n  if (audioContext) audioContext.close()\r\n})\r\n</script>\r\n\r\n<!-- <style>\r\n.progress-bar {\r\n  display: flex;\r\n  justify-content: center;\r\n  /* padding: 15px 40px; */\r\n}\r\n\r\n.progress-bar input[type=\"range\"] {\r\n  width: 100%;\r\n  appearance: none;\r\n  height: 8px;\r\n  background: #e3e3e3;\r\n  border-radius: 4px;\r\n  outline: none;\r\n}\r\n\r\n.time {\r\n  font-size: 0.9rem;\r\n  color: #555;\r\n  margin-top: 0.25rem;\r\n}\r\n\r\n/* .visualizer {\r\n  display: block;\r\n  margin: 1rem auto;\r\n  background-color: #fff;\r\n  border-radius: 0.5rem;\r\n} */\r\n/* .visualizer {\r\n  display: block;\r\n  margin: 1rem auto;\r\n  background-color: #111;\r\n  border-radius: 50%;\r\n} */\r\n/* .visualizer {\r\n  display: block;\r\n  margin: 1rem auto;\r\n  background-color: #111;\r\n  border-radius: 8px;\r\n} */\r\n.visualizer {\r\n  display: block;\r\n  margin: 1rem auto;\r\n  background-color: white;\r\n}\r\n</style>\r\n -->\r\n\r\n\r\n<style scoped>\r\n.audio-player {\r\n  text-align: center;\r\n  background: #fff;\r\n  padding: 1rem;\r\n  border-radius: 8px;\r\n  color: #555;\r\n}\r\n\r\n.visualizer {\r\n  display: block;\r\n  margin: 1rem auto;\r\n  background-color: white;\r\n}\r\n\r\n.song-info {\r\n  margin: 1rem 0;\r\n}\r\n\r\n.song-info h3 {\r\n  margin: 0;\r\n}\r\n\r\n.song-info .time {\r\n  font-size: 0.9rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.song-info input[type=range] {\r\n  width: 100%;\r\n}\r\n\r\n.controls button {\r\n  background: none;\r\n  border: none;\r\n  margin: 0 1rem;\r\n  cursor: pointer;\r\n  color: white;\r\n}\r\n\r\n.controls img {\r\n  width: 40px;\r\n  height: 40px;\r\n}\r\n\r\n.controls .active {\r\n  color: lime;\r\n}\r\n</style>\r\n","import script from \"./AngerPlay.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AngerPlay.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AngerPlay.vue?vue&type=style&index=0&id=00eb96ae&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-00eb96ae\"]])\n\nexport default __exports__"],"names":["audios","URL","href","songTitles","moment","ref","playIcon","pauseIcon","currentIndex","isPlaying","isShuffle","currentTime","duration","audio","Audio","isFavorite","isFavoriteQuestion","canvasRef","audioContext","analyser","dataArray","source","animationId","shuffledIndices","hasShownMessage","playbackInterval","playbackSeconds","SetMoment","value","AddFavorite","RemoveFavorite","setupVisualizer","window","AudioContext","webkitAudioContext","createAnalyser","fftSize","bufferLength","frequencyBinCount","Uint8Array","createMediaElementSource","connect","destination","drawVisualizer","state","resume","document","removeEventListener","addEventListener","once","canvas","ctx","getContext","width","height","centerY","draw","requestAnimationFrame","getByteFrequencyData","clearRect","barWidth","length","x","i","barHeight","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","shuffleArray","indices","Array","keys","j","Math","floor","random","loadTrack","index","src","load","stopPlaybackTimer","play","then","startPlaybackTimer","catch","err","console","warn","togglePlay","paused","pause","log","setInterval","clearInterval","nextTrack","shift","prevTrack","seekAudio","formatTime","time","minutes","seconds","toString","padStart","onMounted","onBeforeUnmount","cancelAnimationFrame","close","__exports__"],"sourceRoot":""}